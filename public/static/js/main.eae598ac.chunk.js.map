{"version":3,"sources":["services/SocketService.js","icons/PlayIcon.js","icons/StopIcon.js","icons/MoveToIcon.js","cmps/ControllerPreview.js","cmps/MainFader.js","cmps/ControllersList.js","cmps/ProgramPreview.js","cmps/Loader.js","cmps/Programs.js","services/HttpService.js","services/ProgramsService.js","pages/AdminPanel.js","services/CloudinaryService.js","services/RoomService.js","cmps/SongPreview.js","icons/HomeIcon.js","icons/AddSongIcon.js","icons/RemoveSongIcon.js","pages/MusicPlayer.js","cmps/RoutePage.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js","services/UtilService.js"],"names":["socket","isLocalPlaying","version","xmlns","xmlnsXlink","className","viewBox","xmlSpace","d","id","x","y","setup","io","terminate","on","eventName","cb","off","emit","data","isSocketAvailable","precentageChange","isPlaying","idx","isSubmitingProgram","setProgram","ActiveProgram","mainFaderVolume","useState","inputValue","setInputValue","oldInputValue","setOldInputValue","setIsLocalPlaying","useEffect","newInputChangePrecentage","newInputVal","Math","abs","handlePrecentageChange","newValueFromProgram","program","find","room","name","value","SocketService","handleChangeOfProgram","playStatus","volume","onClick","PlayIcon","StopIcon","type","min","max","onChange","ev","target","handleInputChange","to","oldMainFaderVolume","setMainFaderVolume","setOldMainFaderVolume","setPrecentageChange","setIsPlaying","handleMasterVolumeChange","oldNumber","newNumber","newPrecentageChange","handleOldValues","musicPlayers","updateActivePlayer","Array","fill","MainFader","map","_","ControllerPreview","handleSettingProgram","handleDeleteProgram","programName","width","height","preserveAspectRatio","attributeName","repeatCount","dur","calcMode","keyTimes","values","keySplines","begin","handleSubmit","setProgramName","programs","onSubmit","placeholder","length","ProgramPreview","Loader","axios","Axios","create","withCredentials","BASE_URL","HttpService","endpoint","ajax","a","method","url","res","response","status","programData","console","log","_id","UtilService","makeId","prm","ProgramsService","getById","filterBy","queryParams","URLSearchParams","property","set","save","remove","addProgram","getPrograms","deleteProgram","setPrograms","setIsSubmitingProgram","setActiveProgram","updatedProgram","ControllersList","Programs","preventDefault","setTimeout","programToDelete","programsCopy","JSON","parse","stringify","findIndex","splice","uploadSong","UPLOAD_URL","formData","FormData","append","files","fetch","body","secure","then","json","catch","err","error","songObj","RoomService","query","critirea","params","addNewSong","getRoom","song","isDeleting","idToDelete","handleDeletingSongs","setSongIdToDelete","isIdAdded","includes","filter","handleIdToDelete","clipRule","props","roomIdx","setRoomIdx","songIdx","setSongIdx","setVolume","isSendingData","setIsSendingData","setRoom","songObg","setSongObj","isUploading","setIsUploading","playList","setPlaylist","setPlayStatus","setIsDeleting","hours","minutes","seconds","action","playingTime","musicPlayerEl","useRef","onUploadSong","CloudinaryService","newSongUrl","original_filename","songUrl","secure_url","updatePlaylist","newSong","playlist","push","roomCopy","forEach","handlePlayingTime","runEveryDay","act","t","time","activatingTime","Date","setHours","setMinutes","setSeconds","generatePlayingTimes","match","navigator","mediaDevices","getUserMedia","audio","newValue","playing","controls","onEnded","nextIdx","ref","HomeIcon","SongPreview","AddSongIcon","hidden","RemoveSongIcon","RoutePage","path","exact","component","AdminPanel","MusicPlayer","React","Component","history","createBrowserHistory","App","Boolean","window","location","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message","module","exports","text","possible","i","charAt","floor","random"],"mappings":"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","file":"static/js/main.eae598ac.chunk.js","sourcesContent":["import io from \"socket.io-client\";\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === \"production\" ? \"/\" : \"//localhost:3030\";\r\nvar socket;\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit,\r\n  isSocketAvailable,\r\n};\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  socket.on(eventName, cb);\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data);\r\n}\r\n\r\nfunction isSocketAvailable() {\r\n  return socket;\r\n}\r\n","import React from \"react\";\r\n\r\nexport default ({ isLocalPlaying }) => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      className={isLocalPlaying ? \"play-icon playing\" : \"play-icon\"}\r\n      viewBox=\"0 0 512 512\"\r\n      xmlSpace=\"preserve\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <g>\r\n            <path\r\n              d=\"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M256,490.667\r\n               C126.604,490.667,21.333,385.396,21.333,256S126.604,21.333,256,21.333S490.667,126.604,490.667,256S385.396,490.667,256,490.667\r\n               z\"\r\n            />\r\n            <path\r\n              d=\"M357.771,247.031l-149.333-96c-3.271-2.135-7.5-2.25-10.875-0.396C194.125,152.51,192,156.094,192,160v192\r\n               c0,3.906,2.125,7.49,5.563,9.365c1.583,0.865,3.354,1.302,5.104,1.302c2,0,4.021-0.563,5.771-1.698l149.333-96\r\n               c3.042-1.958,4.896-5.344,4.896-8.969S360.813,248.99,357.771,247.031z M213.333,332.458V179.542L332.271,256L213.333,332.458z\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ isLocalPlaying }) => {\r\n  return (\r\n    <svg\r\n      className={!isLocalPlaying ? \"stop-icon stoping\" : \"stop-icon\"}\r\n      viewBox=\"0 0 512 512\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <g>\r\n        <path d=\"m256 512c-68.38 0-132.667-26.629-181.02-74.98-48.351-48.353-74.98-112.64-74.98-181.02s26.629-132.667 74.98-181.02c48.353-48.351 112.64-74.98 181.02-74.98s132.667 26.629 181.02 74.98c48.351 48.353 74.98 112.64 74.98 181.02s-26.629 132.667-74.98 181.02c-48.353 48.351-112.64 74.98-181.02 74.98zm0-482c-124.617 0-226 101.383-226 226s101.383 226 226 226 226-101.383 226-226-101.383-226-226-226z\" />\r\n        <g>\r\n          <path d=\"m356 371h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15v200c0 8.284-6.716 15-15 15zm-185-30h170v-170h-170z\" />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Capa_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 512 512\"\r\n      xmlSpace=\"preserve\"\r\n      className=\"move-to-icon\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <g>\r\n            <path\r\n              d=\"M508.271,194.568l-149.333-128c-3.146-2.708-7.583-3.323-11.396-1.594c-3.781,1.74-6.208,5.521-6.208,9.688v74.813\r\n\t\t\t\tc-119.188,3.313-176.688,62.312-204.021,112.031c-23.771,43.219-29.104,86.01-30.302,103.573\r\n\t\t\t\tc-0.229,2.688-0.344,5.427-0.344,8.219v0.031c0,0,0,0.01,0,0.021v0.01c0,0.01,0,0.01,0,0.01v0.031v0.01c0,0,0,0.01,0,0.021v0.01\r\n\t\t\t\tc0,0.01,0,0.021,0,0.021c0,0.01,0,0.01,0,0.01v0.031c0,0.01,0,0.021,0,0.031c0,0,0,0.01,0,0.031v0.01v0.021v0.01\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031l0.01,0.031c0,0,0,0,0,0.01c0,0.021,0,0.031,0,0.031c0,0.01,0,0.021,0,0.031v0.031v0.031v0.01v0.031\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031c0,0,0,0.021,0.01,0.031c0,0,0,0.01,0,0.031v0.01c0,0.01,0,0.021,0,0.031v0.031c0,0.01,0,0.021,0,0.031\r\n\t\t\t\tc-0.01,0.031,0.021,0.042,0.01,0.042v0.031c0,0.01,0,0.021,0,0.031v0.031c0,0.021,0.01,0.042,0.01,0.042v0.031\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031v0.01v0.021v0.01l0.01,0.021v0.01c0,0.01,0,0.021,0,0.021c0,0.01,0,0.01,0,0.01v0.031v0.01\r\n\t\t\t\tc0.01,0.01,0.01,0.01,0.01,0.021c0,0,0,0.01,0,0.021v0.01c0,0.01,0,0.01,0,0.01v0.021c0.01,0.031,0.01,0.031,0.01,0.031\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031v0.01v0.021v0.01c0.01,0.01,0.01,0.021,0.01,0.021c0,0.021,0,0.031,0,0.031\r\n\t\t\t\tc0.667,5.26,5.156,9.323,10.583,9.323c5.885,0,10.656-4.76,10.667-10.646v-0.01c0-0.542,0.01-1.865,0.104-3.885\r\n\t\t\t\tc4.656-88.698,168.521-108.823,213.229-112.667v73.875c0,4.167,2.427,7.948,6.208,9.688c3.802,1.729,8.229,1.125,11.396-1.594\r\n\t\t\t\tl149.333-128c2.365-2.021,3.729-4.979,3.729-8.094C512,199.547,510.635,196.589,508.271,194.568z M362.667,307.474v-62.146\r\n\t\t\t\tc0-2.917-1.188-5.698-3.302-7.708c-1.979-1.906-4.625-2.958-7.365-2.958c-0.156,0-0.323,0-0.49,0.01\r\n\t\t\t\tc-7.51,0.344-142.177,7.281-208.521,64.323c21.948-57.885,75.969-128.333,208.958-128.333H352c2.833,0,5.542-1.125,7.542-3.125\r\n\t\t\t\ts3.125-4.708,3.125-7.542V97.849l122.281,104.812L362.667,307.474z\"\r\n            />\r\n            <path\r\n              d=\"M437.333,303.047c-5.896,0-10.667,4.771-10.667,10.667v91.615c0,11.76-9.573,21.333-21.333,21.333H42.667\r\n\t\t\t\tc-11.76,0-21.333-9.573-21.333-21.333V191.995c0-11.76,9.573-21.333,21.333-21.333h147.729c5.896,0,10.667-4.771,10.667-10.667\r\n\t\t\t\ts-4.771-10.667-10.667-10.667H42.667C19.135,149.329,0,168.464,0,191.995v213.333c0,23.531,19.135,42.667,42.667,42.667h362.667\r\n\t\t\t\tc23.531,0,42.667-19.135,42.667-42.667v-91.615C448,307.818,443.229,303.047,437.333,303.047z\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport PlayIcon from \"../icons/PlayIcon\";\r\nimport StopIcon from \"../icons/StopIcon\";\r\nimport MoveTo from \"../icons/MoveToIcon\";\r\n\r\nimport SocketService from \"../services/SocketService\";\r\n\r\nexport default ({\r\n  precentageChange,\r\n  isPlaying,\r\n  idx,\r\n  isSubmitingProgram,\r\n  setProgram,\r\n  ActiveProgram,\r\n  mainFaderVolume,\r\n}) => {\r\n  const [inputValue, setInputValue] = useState(mainFaderVolume);\r\n  const [oldInputValue, setOldInputValue] = useState(null);\r\n  const [isLocalPlaying, setIsLocalPlaying] = useState(true);\r\n\r\n  const handlePrecentageChange = () => {\r\n    let newInputChangePrecentage = 100 / precentageChange;\r\n    let newInputVal = inputValue - inputValue / newInputChangePrecentage;\r\n    if (newInputVal > 100) {\r\n      newInputVal = 100;\r\n    }\r\n    if (mainFaderVolume === 0) {\r\n      setInputValue(mainFaderVolume);\r\n      return;\r\n    }\r\n    inputValue === 0 && !newInputChangePrecentage\r\n      ? setInputValue(\r\n          mainFaderVolume / (100 / Math.abs(newInputChangePrecentage))\r\n        )\r\n      : setInputValue(newInputVal);\r\n    if (inputValue === 0) {\r\n      setInputValue(mainFaderVolume);\r\n    }\r\n    setOldInputValue(inputValue);\r\n  };\r\n\r\n  const handleInputChange = (ev) => {\r\n    setInputValue(ev.target.value);\r\n    SocketService.emit(`volume changed`, { idx, inputValue: ev.target.value });\r\n  };\r\n\r\n  const disconnectSockets = () => {\r\n    if (idx && SocketService.isSocketAvailable()) {\r\n      SocketService.off(`new play status from player ${idx}`);\r\n      SocketService.off(`Active player in room ${idx}`);\r\n      SocketService.terminate();\r\n    }\r\n  };\r\n\r\n  const connectSockets = () => {\r\n    SocketService.setup();\r\n    SocketService.on(`new play status from player ${idx}`, ({ playStatus }) => {\r\n      setIsLocalPlaying(playStatus);\r\n    });\r\n    SocketService.on(`Active player in room ${idx}`, ({ volume }) => {\r\n      setInputValue(volume * 100);\r\n    });\r\n  };\r\n\r\n  const handleChangeOfProgram = () => {\r\n    let newValueFromProgram = ActiveProgram.program.find(\r\n      (room) => room.name === idx\r\n    );\r\n    setInputValue(newValueFromProgram.value);\r\n    SocketService.emit(`volume changed`, {\r\n      idx,\r\n      inputValue: newValueFromProgram.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (precentageChange) {\r\n      handlePrecentageChange();\r\n    }\r\n  }, [precentageChange]);\r\n\r\n  useEffect(() => {\r\n    setIsLocalPlaying(isPlaying);\r\n  }, [isPlaying]);\r\n\r\n  useEffect(() => {\r\n    if (ActiveProgram) {\r\n      handleChangeOfProgram();\r\n    }\r\n  }, [ActiveProgram]);\r\n\r\n  useEffect(() => {\r\n    if (isSubmitingProgram) {\r\n      setProgram((program) => [...program, { name: idx, value: inputValue }]);\r\n    }\r\n  }, [isSubmitingProgram]);\r\n\r\n  useEffect(() => {\r\n    connectSockets();\r\n    SocketService.emit(`checking for active players on room`, { idx });\r\n    return () => {\r\n      disconnectSockets();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (oldInputValue !== inputValue && oldInputValue) {\r\n      SocketService.emit(`volume changed`, { idx, inputValue });\r\n    }\r\n  }, [oldInputValue]);\r\n\r\n  useEffect(() => {\r\n    SocketService.emit(`playing status`, { idx, isLocalPlaying });\r\n  }, [isLocalPlaying]);\r\n\r\n  return (\r\n    <div className=\"controller-preview\">\r\n      <div className=\"controller-info\">\r\n        <h1>Name</h1>\r\n        <h1>{idx}</h1>\r\n      </div>\r\n      <i\r\n        onClick={() => {\r\n          setIsLocalPlaying(!isLocalPlaying);\r\n        }}\r\n      >\r\n        <PlayIcon isLocalPlaying={isLocalPlaying} />\r\n      </i>\r\n      <i\r\n        onClick={() => {\r\n          setIsLocalPlaying(!isLocalPlaying);\r\n        }}\r\n      >\r\n        <StopIcon isLocalPlaying={isLocalPlaying} />\r\n      </i>\r\n      <input\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"100\"\r\n        value={inputValue}\r\n        onChange={(ev) => {\r\n          handleInputChange(ev);\r\n        }}\r\n      />\r\n      <Link to={`/player/${idx}`}>\r\n        <MoveTo />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport PlayIcon from \"../icons/PlayIcon\";\r\nimport StopIcon from \"../icons/StopIcon\";\r\n\r\nimport SocketService from \"../services/SocketService\";\r\n\r\nexport default ({\r\n  mainFaderVolume,\r\n  oldMainFaderVolume,\r\n  setMainFaderVolume,\r\n  setOldMainFaderVolume,\r\n  setPrecentageChange,\r\n  isPlaying,\r\n  setIsPlaying,\r\n}) => {\r\n  const handleMasterVolumeChange = (ev) => {\r\n    setMainFaderVolume(ev.target.value);\r\n    SocketService.emit(`main fader volume changed`, {\r\n      volume: ev.target.value,\r\n    });\r\n  };\r\n\r\n  const getPercentageChange = (oldNumber, newNumber) => {\r\n    var decreaseValue = oldNumber - newNumber;\r\n    return (decreaseValue / oldNumber) * 100;\r\n  };\r\n\r\n  const handleOldValues = (ev) => {\r\n    let newPrecentageChange = getPercentageChange(\r\n      oldMainFaderVolume,\r\n      ev.target.value\r\n    );\r\n\r\n    setPrecentageChange(newPrecentageChange);\r\n    setOldMainFaderVolume(ev.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    SocketService.setup();\r\n    SocketService.on(`main fader new volume`, ({ volume }) => {\r\n      setMainFaderVolume(volume);\r\n    });\r\n    return () => {\r\n      SocketService.off(`main fader new volume`);\r\n      SocketService.terminate();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"main-fader\">\r\n      <h1>Master</h1>\r\n      <i\r\n        onClick={() => {\r\n          setIsPlaying(!isPlaying);\r\n        }}\r\n      >\r\n        <PlayIcon isLocalPlaying={isPlaying} />\r\n      </i>\r\n      <i\r\n        onClick={() => {\r\n          setIsPlaying(!isPlaying);\r\n        }}\r\n      >\r\n        <StopIcon isLocalPlaying={isPlaying} />\r\n      </i>\r\n      <input\r\n        type=\"range\"\r\n        value={mainFaderVolume}\r\n        onChange={(ev) => {\r\n          handleMasterVolumeChange(ev);\r\n          handleOldValues(ev);\r\n        }}\r\n        // onMouseUp={(ev) => handleOldValues(ev)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ControllerPreview from \"../cmps/ControllerPreview\";\r\nimport MainFader from \"../cmps/MainFader\";\r\n\r\nexport default ({\r\n  setProgram,\r\n  program,\r\n  isSubmitingProgram,\r\n  ActiveProgram,\r\n  updateActivePlayer,\r\n}) => {\r\n  const totalPlayersNumber = 8;\r\n  const musicPlayers = new Array(totalPlayersNumber).fill(null);\r\n\r\n  const [mainFaderVolume, setMainFaderVolume] = useState(100);\r\n  const [oldMainFaderVolume, setOldMainFaderVolume] = useState(100);\r\n  const [precentageChange, setPrecentageChange] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n\r\n  return (\r\n    <div className=\"controller-list\">\r\n      <MainFader\r\n        mainFaderVolume={mainFaderVolume}\r\n        oldMainFaderVolume={oldMainFaderVolume}\r\n        setMainFaderVolume={setMainFaderVolume}\r\n        setOldMainFaderVolume={setOldMainFaderVolume}\r\n        setPrecentageChange={setPrecentageChange}\r\n        precentageChange={precentageChange}\r\n        isPlaying={isPlaying}\r\n        setIsPlaying={setIsPlaying}\r\n      />\r\n      {musicPlayers.map((_, idx) => (\r\n        <ControllerPreview\r\n          idx={idx}\r\n          key={idx}\r\n          mainFaderVolume={mainFaderVolume}\r\n          setOldMainFaderVolume={setOldMainFaderVolume}\r\n          precentageChange={precentageChange}\r\n          isPlaying={isPlaying}\r\n          program={program}\r\n          isSubmitingProgram={isSubmitingProgram}\r\n          setProgram={setProgram}\r\n          ActiveProgram={ActiveProgram}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ program, handleSettingProgram, handleDeleteProgram }) => {\r\n  return (\r\n    <div className=\"program-preview\">\r\n      <div className=\"program-details\">\r\n        <h4\r\n          className=\"program-name\"\r\n          onClick={() => handleSettingProgram(program)}\r\n        >\r\n          {\" \"}\r\n          {program.programName}\r\n        </h4>\r\n        <h4 className=\"x-mark\" onClick={() => handleDeleteProgram(program)}>\r\n          X\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      width=\"200px\"\r\n      height=\"200px\"\r\n      viewBox=\"0 0 100 100\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n    >\r\n      <rect x=\"17.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#1d3f72\">\r\n        <animate\r\n          attributeName=\"y\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"18;30;30\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.2s\"\r\n        ></animate>\r\n        <animate\r\n          attributeName=\"height\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"64;40;40\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.2s\"\r\n        ></animate>\r\n      </rect>\r\n      <rect x=\"42.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#5699d2\">\r\n        <animate\r\n          attributeName=\"y\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"20.999999999999996;30;30\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.1s\"\r\n        ></animate>\r\n        <animate\r\n          attributeName=\"height\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"58.00000000000001;40;40\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.1s\"\r\n        ></animate>\r\n      </rect>\r\n      <rect x=\"67.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#d8ebf9\">\r\n        <animate\r\n          attributeName=\"y\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"20.999999999999996;30;30\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n        ></animate>\r\n        <animate\r\n          attributeName=\"height\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"58.00000000000001;40;40\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n        ></animate>\r\n      </rect>\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ProgramPreview from \"../cmps/ProgramPreview\";\r\nimport Loader from \"../cmps/Loader\";\r\n\r\nexport default ({\r\n  handleSubmit,\r\n  setProgramName,\r\n  programs,\r\n  handleSettingProgram,\r\n  handleDeleteProgram,\r\n}) => {\r\n  return (\r\n    <div className=\"programs\">\r\n      <h1>Programs</h1>\r\n      <form onSubmit={(ev) => handleSubmit(ev)}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"program name\"\r\n          onChange={(ev) => setProgramName(ev.target.value)}\r\n        />\r\n        <button>save program</button>\r\n      </form>\r\n      {!programs.length ? (\r\n        <Loader />\r\n      ) : (\r\n        programs.map((program, idx) => (\r\n          <ProgramPreview\r\n            program={program}\r\n            handleDeleteProgram={handleDeleteProgram}\r\n            key={idx}\r\n            handleSettingProgram={handleSettingProgram}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","// import router from '@/router'\r\n// import store from '@/store'\r\n\r\nimport Axios from \"axios\";\r\nvar axios = Axios.create({\r\n  withCredentials: true,\r\n});\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV !== \"development\" ? \"/api/\" : \"//localhost:3030/api/\";\r\n\r\nexport const HttpService = {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, \"GET\", data);\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, \"POST\", data);\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, \"PUT\", data);\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, \"DELETE\", data);\r\n  },\r\n};\r\n\r\nasync function ajax(endpoint, method = \"get\", data = null) {\r\n  try {\r\n    const res = await axios({\r\n      method,\r\n      url: `${BASE_URL}${endpoint}`,\r\n      data,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    if (err.response.status === 401) {\r\n      return false;\r\n      // throw new Error('error:  http.service page')\r\n      // router.push('/');\r\n    }\r\n  }\r\n}\r\n","import { HttpService } from \"./HttpService\";\r\nimport UtilService from \"./UtilService\";\r\n\r\n// function query(critirea) {\r\n//   const params = new URLSearchParams(critirea);\r\n//   return HttpService.get(`programs?${params}`);\r\n// }\r\n\r\nfunction getPrograms(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n  }\r\n  return HttpService.get(`programs?${queryParams}`);\r\n}\r\n\r\nasync function addProgram(programData) {\r\n  console.log(\"in SERVICE \", programData);\r\n  programData._id = UtilService.makeId();\r\n  console.log(programData);\r\n  let res = await HttpService.post(\"programs\", programData);\r\n  console.log(res);\r\n  return res;\r\n}\r\n\r\nfunction getById(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`room/${id}`);\r\n}\r\n\r\nasync function save(room) {\r\n  let prm;\r\n\r\n  if (room._id) prm = HttpService.put(`room/${room._id}`, room);\r\n  else {\r\n    prm = HttpService.post(\"room\", room);\r\n  }\r\n  const res = await prm;\r\n  return res;\r\n}\r\n\r\nasync function deleteProgram(program) {\r\n  await HttpService.delete(`programs/${program._id}`, program);\r\n}\r\n\r\nexport const ProgramsService = {\r\n  // query,\r\n  getById,\r\n  save,\r\n  remove,\r\n  addProgram,\r\n  getPrograms,\r\n  deleteProgram,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ControllersList from \"../cmps/ControllersList\";\r\nimport Programs from \"../cmps/Programs\";\r\nimport { ProgramsService } from \"../services/ProgramsService\";\r\n\r\nexport default () => {\r\n  const [program, setProgram] = useState([]);\r\n  const [programName, setProgramName] = useState(\"\");\r\n  const [programs, setPrograms] = useState([]);\r\n  const [isSubmitingProgram, setIsSubmitingProgram] = useState(false);\r\n  const [ActiveProgram, setActiveProgram] = useState(null);\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    setIsSubmitingProgram(true);\r\n    setTimeout(() => {\r\n      setIsSubmitingProgram(false);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSettingProgram = (program) => {\r\n    setActiveProgram(program);\r\n  };\r\n\r\n  const handleDeleteProgram = (programToDelete) => {\r\n    let programsCopy = JSON.parse(JSON.stringify(programs));\r\n    let idx = programs.findIndex(\r\n      (program) => program._id === programToDelete._id\r\n    );\r\n    ProgramsService.deleteProgram(programToDelete);\r\n    programsCopy.splice(idx, 1);\r\n    setPrograms(programsCopy);\r\n  };\r\n\r\n  const updateActivePlayer = (isPlaying, idx) => {\r\n    console.log(idx);\r\n    console.log(isPlaying);\r\n  };\r\n\r\n  useEffect(async () => {\r\n    if (program.length) {\r\n      let updatedProgram = await ProgramsService.addProgram({\r\n        programName,\r\n        program,\r\n      });\r\n      setPrograms((programs) => [...programs, updatedProgram]);\r\n      setProgram([]);\r\n    }\r\n  }, [program]);\r\n\r\n  useEffect(async () => {\r\n    setPrograms(await ProgramsService.getPrograms());\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-panel-container\">\r\n      <h1>AdminPanel</h1>\r\n      <div className=\"admin-panel\">\r\n        <ControllersList\r\n          setProgram={setProgram}\r\n          program={program}\r\n          isSubmitingProgram={isSubmitingProgram}\r\n          ActiveProgram={ActiveProgram}\r\n        />\r\n        <Programs\r\n          handleSubmit={handleSubmit}\r\n          programName={programName}\r\n          setProgramName={setProgramName}\r\n          programs={programs}\r\n          handleSettingProgram={handleSettingProgram}\r\n          handleDeleteProgram={handleDeleteProgram}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","function uploadSong(ev) {\r\n  const CLOUD_NAME = \"tamir\";\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/video/upload`;\r\n  const formData = new FormData();\r\n  if (ev.target) {\r\n    formData.append(\"file\", ev.target.files[0]);\r\n  } else {\r\n    formData.append(\"file\", ev);\r\n  }\r\n  formData.append(\"upload_preset\", \"u1inrfbp\"); // second parameter is the upload preset\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: \"POST\",\r\n    body: formData,\r\n    secure: true,\r\n  })\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.error(err));\r\n}\r\n\r\nexport default {\r\n  uploadSong,\r\n};\r\n","import { HttpService } from \"./HttpService\";\r\nimport UtilService from \"./UtilService\";\r\n\r\nfunction query(critirea) {\r\n  const params = new URLSearchParams(critirea);\r\n  return HttpService.get(`room?${params}`);\r\n}\r\nfunction getRoom(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\nasync function addNewSong(songObj, idx) {\r\n  songObj._id = UtilService.makeId();\r\n  return HttpService.put(`room/add-song/${idx}`, { songObj, idx });\r\n}\r\n\r\nfunction getById(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`room/${id}`);\r\n}\r\n\r\nasync function save(room) {\r\n  let prm;\r\n\r\n  if (room._id) prm = HttpService.put(`room/${room._id}`, room);\r\n  else {\r\n    prm = HttpService.post(\"room\", room);\r\n  }\r\n  const res = await prm;\r\n  return res;\r\n}\r\n\r\nexport const RoomService = {\r\n  query,\r\n  getById,\r\n  save,\r\n  remove,\r\n  addNewSong,\r\n  getRoom,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nexport default ({\r\n  song,\r\n  idx,\r\n  isDeleting,\r\n  handleDeletingSongs,\r\n  idToDelete,\r\n  setSongIdToDelete,\r\n}) => {\r\n  const handleIdToDelete = () => {\r\n    var isIdAdded = idToDelete.includes(song._id);\r\n    isIdAdded\r\n      ? setSongIdToDelete(idToDelete.filter((id) => id !== song._id))\r\n      : setSongIdToDelete([...idToDelete, song._id]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"song-preview\">\r\n      {isDeleting && (\r\n        <input type=\"checkbox\" onChange={() => handleIdToDelete()} />\r\n      )}\r\n      <h2>\r\n        {idx + 1} - {song.name}\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Capa_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 476.912 476.912\"\r\n      xmlSpace=\"preserve\"\r\n      className=\"home-icon\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M461.776,209.408L249.568,4.52c-6.182-6.026-16.042-6.026-22.224,0L15.144,209.4c-3.124,3.015-4.888,7.17-4.888,11.512\r\n\t\t\tc0,8.837,7.164,16,16,16h28.2v224c0,8.837,7.163,16,16,16h112c8.837,0,16-7.163,16-16v-128h80v128c0,8.837,7.163,16,16,16h112\r\n\t\t\tc8.837,0,16-7.163,16-16v-224h28.2c4.338,0,8.489-1.761,11.504-4.88C468.301,225.678,468.129,215.549,461.776,209.408z\r\n\t\t\t M422.456,220.912c-8.837,0-16,7.163-16,16v224h-112v-128c0-8.837-7.163-16-16-16h-80c-8.837,0-16,7.163-16,16v128h-112v-224\r\n\t\t\tc0-8.837-7.163-16-16-16h-28.2l212.2-204.88l212.28,204.88H422.456z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      height=\"512\"\r\n      viewBox=\"0 0 24 24\"\r\n      width=\"512\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"add-song-icon\"\r\n    >\r\n      <g>\r\n        <path d=\"m2.5 12c0-5.24671 4.25329-9.5 9.5-9.5 5.2467 0 9.5 4.25329 9.5 9.5 0 1.1707-.2115 2.2908-.598 3.325-.0966.2587.0347.5467.2934.6434.2586.0966.5467-.0347.6434-.2934.4276-1.1445.6612-2.383.6612-3.675 0-5.79899-4.701-10.5-10.5-10.5-5.79899 0-10.5 4.70101-10.5 10.5 0 5.799 4.70101 10.5 10.5 10.5.5348 0 1.0605-.04 1.5744-.1173.273-.0411.4611-.2958.42-.5688-.041-.2731-.2957-.4612-.5688-.4201-.4647.0699-.9408.1062-1.4256.1062-5.24671 0-9.5-4.2533-9.5-9.5z\" />\r\n        <path d=\"m16 18.5c-.2761 0-.5.2239-.5.5s.2239.5.5.5h1.5v1.5c0 .2761.2239.5.5.5s.5-.2239.5-.5v-1.5h1.5c.2761 0 .5-.2239.5-.5s-.2239-.5-.5-.5h-1.5v-1.5c0-.2761-.2239-.5-.5-.5s-.5.2239-.5.5v1.5z\" />\r\n        <path\r\n          clipRule=\"evenodd\"\r\n          d=\"m10.2572 8.57125c-.1544-.09268-.34679-.0951-.50355-.00635-.15675.08875-.25365.25496-.25365.4351v6c0 .1801.0969.3463.25365.4351.15676.0888.34915.0863.50355-.0064l5-3c.1507-.0903.2428-.2531.2428-.4287s-.0921-.3384-.2428-.4287zm3.771 3.42875-3.5282 2.1169v-4.23381z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ isDeleting }) => {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={isDeleting ? \"remove-song-icon deleting\" : \"remove-song-icon\"}\r\n    >\r\n      <g>\r\n        <path d=\"m12 2.5c-5.24671 0-9.5 4.25329-9.5 9.5 0 5.2467 4.25329 9.5 9.5 9.5.4848 0 .9609-.0363 1.4256-.1062.2731-.0411.5278.147.5688.4201.0411.273-.147.5277-.42.5688-.5139.0773-1.0396.1173-1.5744.1173-5.79899 0-10.5-4.701-10.5-10.5 0-5.79899 4.70101-10.5 10.5-10.5 5.799 0 10.5 4.70101 10.5 10.5 0 1.292-.2336 2.5305-.6612 3.675-.0967.2587-.3848.39-.6434.2934-.2587-.0967-.39-.3847-.2934-.6434.3865-1.0342.598-2.1543.598-3.325 0-5.24671-4.2533-9.5-9.5-9.5z\" />\r\n        <path d=\"m21.5 19.5c0 .2761-.2239.5-.5.5h-4c-.2761 0-.5-.2239-.5-.5s.2239-.5.5-.5h4c.2761 0 .5.2239.5.5z\" />\r\n        <path d=\"m10.2572 8.57125c-.1544-.09268-.34679-.0951-.50355-.00635-.15675.08875-.25365.25496-.25365.4351v6c0 .1801.0969.3463.25365.4351.15676.0888.34915.0863.50355-.0064l5-3c.1507-.0903.2428-.2531.2428-.4287s-.0921-.3384-.2428-.4287zm3.771 3.42875-3.5282 2.1169v-4.23381z\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport SocketService from \"../services/SocketService\";\r\nimport CloudinaryService from \"../services/CloudinaryService\";\r\nimport { RoomService } from \"../services/RoomService\";\r\n\r\nimport ReactPlayer from \"react-player\";\r\n\r\nimport SongPreview from \"../cmps/SongPreview\";\r\nimport Loader from \"../cmps/Loader\";\r\n\r\nimport HomeIcon from \"../icons/HomeIcon\";\r\nimport AddSongIcon from \"../icons/AddSongIcon\";\r\nimport RemoveSongIcon from \"../icons/RemoveSongIcon\";\r\n\r\nexport default (props) => {\r\n  const [roomIdx, setRoomIdx] = useState(null);\r\n  const [songIdx, setSongIdx] = useState(0);\r\n  const [idToDelete, setSongIdToDelete] = useState([]);\r\n  const [volume, setVolume] = useState(null);\r\n  const [isSendingData, setIsSendingData] = useState(false);\r\n  const [room, setRoom] = useState(null);\r\n  const [songObg, setSongObj] = useState(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [playList, setPlaylist] = useState([]);\r\n  const [playStatus, setPlayStatus] = useState(true);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [playingTime, setPlayingTime] = useState([\r\n    { hours: 10, minutes: 0, seconds: 0, action: \"play\" },\r\n    { hours: 14, minutes: 0, seconds: 0, action: \"pause\" },\r\n    { hours: 16, minutes: 0, seconds: 0, action: \"play\" },\r\n    { hours: 20, minutes: 0, seconds: 0, action: \"pause\" },\r\n  ]);\r\n  const musicPlayerEl = useRef();\r\n\r\n  const conectSockets = () => {\r\n    SocketService.on(`change volume ${roomIdx}`, ({ newValue }) => {\r\n      setVolume(newValue / 100);\r\n    });\r\n    SocketService.on(`new play status ${roomIdx}`, ({ isLocalPlaying }) => {\r\n      setPlayStatus(isLocalPlaying);\r\n    });\r\n    SocketService.on(`check for volume status in room ${roomIdx}`, () => {\r\n      setIsSendingData(true);\r\n      setTimeout(() => {\r\n        setIsSendingData(false);\r\n      }, 500);\r\n      // console.log(\"volume check\", volume);\r\n      // if (volume) {\r\n      //   SocketService.emit(`Active`, { roomIdx, volume });\r\n      // }\r\n    });\r\n  };\r\n\r\n  const disconnectSockets = () => {\r\n    if (roomIdx) {\r\n      SocketService.off(`change volume ${roomIdx}`);\r\n      SocketService.off(`new play status ${roomIdx}`);\r\n      SocketService.off(`check for volume status in room ${roomIdx}`);\r\n    }\r\n    SocketService.terminate();\r\n  };\r\n\r\n  const onUploadSong = async (ev) => {\r\n    setIsUploading(true);\r\n    let newSongUrl = await CloudinaryService.uploadSong(ev);\r\n    setSongObj({\r\n      name: newSongUrl.original_filename,\r\n      songUrl: newSongUrl.secure_url,\r\n    });\r\n    setIsUploading(false);\r\n  };\r\n\r\n  const playNextSong = () => {\r\n    setPlayStatus(false);\r\n    let nextIdx = songIdx + 1;\r\n    nextIdx %= playList.length;\r\n    setSongIdx(nextIdx);\r\n    setPlayStatus(true);\r\n  };\r\n\r\n  const updatePlaylist = (newSong) => {\r\n    let playlist = room.playlist.map((song) => {\r\n      return song.songUrl;\r\n    });\r\n    return newSong ? playlist.push(newSong) : playlist;\r\n  };\r\n\r\n  // const handlePlayStatus = () => {\r\n  //   setPlayStatus(true);\r\n  //   SocketService.emit(`update status from player`, {\r\n  //     roomIdx,\r\n  //     playStatus: true,\r\n  //   });\r\n  // };\r\n  // const handlePauseStatus = () => {\r\n  //   setPlayStatus(false);\r\n  //   SocketService.emit(`update status from player`, {\r\n  //     roomIdx,\r\n  //     playStatus: false,\r\n  //   });\r\n  // };\r\n\r\n  const generatePlayingTimes = (hours, minutes, seconds) => {\r\n    let activatingTime = new Date();\r\n    activatingTime.setHours(hours);\r\n    activatingTime.setMinutes(minutes);\r\n    activatingTime.setSeconds(seconds);\r\n    return activatingTime;\r\n  };\r\n\r\n  const toggleIsDeleting = () => {\r\n    setIsDeleting(!isDeleting);\r\n  };\r\n\r\n  const handleDeletingSongs = () => {\r\n    if (!idToDelete.length) return;\r\n    let roomCopy = JSON.parse(JSON.stringify(room));\r\n    idToDelete.forEach((id) => {\r\n      const idx = roomCopy.playlist.findIndex((song) => id === song._id);\r\n      roomCopy.playlist.splice(idx, 1);\r\n    });\r\n    setRoom(roomCopy);\r\n    setSongIdToDelete(\"\");\r\n    RoomService.save(roomCopy);\r\n  };\r\n\r\n  const handlePlayingTime = () => {\r\n    const runEveryDay = (act) => {\r\n      switch (act) {\r\n        case \"play\":\r\n          setPlayStatus(true);\r\n          console.log(\"playing\");\r\n          break;\r\n        case \"pause\":\r\n          setPlayStatus(false);\r\n          console.log(\"stopping\");\r\n          break;\r\n      }\r\n      setTimeout((_) => {\r\n        runEveryDay(act);\r\n      }, 24 * 60 * 60 * 1000);\r\n    };\r\n    playingTime.forEach((t) => {\r\n      let hour = generatePlayingTimes(t.hours, t.minutes, t.seconds);\r\n      var time = hour - new Date();\r\n      if (time < 0) time += 24 * 60 * 60 * 1000;\r\n      setTimeout((_) => {\r\n        runEveryDay(t.action);\r\n      }, time);\r\n    });\r\n  };\r\n\r\n  useEffect(async () => {\r\n    setRoomIdx(props?.match?.params?.id);\r\n    await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    handlePlayingTime();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (songObg) {\r\n      let roomCopy = JSON.parse(JSON.stringify(room));\r\n      roomCopy.playlist.push(songObg);\r\n      setRoom(roomCopy);\r\n      RoomService.addNewSong(songObg, roomIdx);\r\n      setPlaylist(updatePlaylist(songObg.songUrl));\r\n    }\r\n  }, [songObg]);\r\n\r\n  useEffect(async () => {\r\n    if (roomIdx) {\r\n      setRoom(await RoomService.getRoom({ roomIdx }));\r\n    }\r\n  }, [roomIdx]);\r\n\r\n  useEffect(() => {\r\n    SocketService.setup();\r\n    if (room) {\r\n      setPlaylist(updatePlaylist());\r\n      conectSockets();\r\n    }\r\n    return () => {\r\n      disconnectSockets();\r\n    };\r\n  }, [room]);\r\n\r\n  useEffect(() => {\r\n    if (isSendingData && volume) {\r\n      SocketService.emit(`Active`, { roomIdx, volume });\r\n    }\r\n  }, [isSendingData]);\r\n\r\n  return !room ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className=\"music-player\">\r\n      <div className=\"music-player-header\">\r\n        <h2>{roomIdx}</h2>\r\n        <h2>Room Name</h2>\r\n        {playList.length && (\r\n          <div className=\"player-wrapper\">\r\n            <ReactPlayer\r\n              playing={playStatus}\r\n              controls\r\n              url={playList[songIdx]}\r\n              className=\"react-player\"\r\n              volume={volume}\r\n              onEnded={playNextSong}\r\n              height=\"10%\"\r\n              ref={musicPlayerEl}\r\n            />\r\n          </div>\r\n        )}\r\n        <Link to={`/`}>\r\n          <HomeIcon />\r\n        </Link>\r\n      </div>\r\n      {isUploading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"song-list\">\r\n          <span className=\"songs\">\r\n            {room &&\r\n              room.playlist.map((song, idx) => (\r\n                <SongPreview\r\n                  song={song}\r\n                  key={idx}\r\n                  idx={idx}\r\n                  isDeleting={isDeleting}\r\n                  handleDeletingSongs={handleDeletingSongs}\r\n                  idToDelete={idToDelete}\r\n                  setSongIdToDelete={setSongIdToDelete}\r\n                />\r\n              ))}\r\n          </span>\r\n\r\n          <span className=\"icons\">\r\n            <i>\r\n              <label>\r\n                <AddSongIcon />\r\n                <input type=\"file\" onChange={(ev) => onUploadSong(ev)} hidden />\r\n              </label>\r\n            </i>\r\n            <i\r\n              onClick={() => {\r\n                toggleIsDeleting();\r\n                handleDeletingSongs();\r\n              }}\r\n            >\r\n              <RemoveSongIcon isDeleting={isDeleting} />\r\n            </i>\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport AdminPanel from \"../pages/AdminPanel\";\r\nimport MusicPlayer from \"../pages/MusicPlayer\";\r\n\r\nclass RoutePage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"router-page\">\r\n        <main>\r\n          <Switch>\r\n            <Route path=\"/\" exact component={AdminPanel} />\r\n            <Route path=\"/player/:id\" exact component={MusicPlayer} />\r\n            {/* <Route\r\n              path=\"/room/:id\"\r\n              exact\r\n              render={(routerProps) => (\r\n                <RoomPage\r\n                  {...routerProps}\r\n                  showNotification={this.props.showNotification}\r\n                />\r\n              )}\r\n            /> */}\r\n            {/* <Route path=\"/room/:id\" component={RoomPage} showNotification={this.props.showNotification} /> */}\r\n          </Switch>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RoutePage;\r\n","import React from \"react\";\nimport { Router } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport \"./App.scss\";\nimport RoutePage from \"./cmps/RoutePage\";\n\nconst history = createBrowserHistory();\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router history={history}>\n        <RoutePage />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// function getRandomInt(min, max) {\r\n//     min = Math.ceil(min);\r\n//     max = Math.floor(max);\r\n//     return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\r\n// }\r\n\r\nfunction makeId(length = 12) {\r\n  var text = \"\";\r\n  var possible =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n  for (var i = 0; i < length; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n  return text;\r\n}\r\n\r\n// function makeLorem(length) {\r\n\r\n//     var randStr = '';\r\n//     while (randStr.length < length) {\r\n//         var wordLength = getRandomInt(3, 6);\r\n//         var word = _createWord(wordLength);\r\n\r\n//         if (Math.random() > 0.9) word += ',';\r\n\r\n//         randStr += word + ' ';\r\n//     }\r\n//     randStr = randStr.substring(0, length);\r\n//     randStr = randStr[0].toUpperCase() + randStr.substr(1)\r\n\r\n//     return randStr;\r\n// }\r\n\r\n// function _getRandChar() {\r\n//     var LETTERS = 'abcdefghijklmnopqrstuvwxyz';\r\n//     var randIndex = parseInt(Math.random() * LETTERS.length)\r\n//     return LETTERS.charAt(randIndex);\r\n// }\r\n\r\n// function _createWord(length) {\r\n//     var word = '';\r\n//     while (word.length < length) {\r\n//         var randChar = _getRandChar();\r\n//         word += randChar;\r\n//     }\r\n\r\n//     return word;\r\n// }\r\n\r\n// const urlParams = new URLSearchParams(window.location.search);\r\n// const myParam = urlParams.get('myParam');\r\n// function getParameterByName(name, url) {\r\n//     if (!url) url = window.location.href;\r\n//     name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n//     var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n//     results = regex.exec(url);\r\n//     if (!results) return null;\r\n//     if (!results[2]) return '';\r\n//     return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n// }\r\n\r\nmodule.exports = {\r\n  // getRandomInt,\r\n  // makeLorem,\r\n  makeId,\r\n  // getParameterByName\r\n};\r\n"],"sourceRoot":""}