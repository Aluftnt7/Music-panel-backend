(this["webpackJsonpmusic-panel"]=this["webpackJsonpmusic-panel"]||[]).push([[0],{150:function(e,t,n){"use strict";n.r(t);var c,a=n(1),r=n.n(a),s=n(64),i=n.n(s),o=(n(78),n(3)),u=n(7),j=(n(79),n(65)),l=n(66),b=n(73),d=n(72),g=n(23),O=n(2),h=n(21),m=n(0),p=function(e){var t=e.isLocalPlaying;return Object(m.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:t?"play-icon playing":"play-icon",viewBox:"0 0 512 512",xmlSpace:"preserve",children:[Object(m.jsx)("g",{children:Object(m.jsx)("g",{children:Object(m.jsxs)("g",{children:[Object(m.jsx)("path",{d:"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M256,490.667\r C126.604,490.667,21.333,385.396,21.333,256S126.604,21.333,256,21.333S490.667,126.604,490.667,256S385.396,490.667,256,490.667\r z"}),Object(m.jsx)("path",{d:"M357.771,247.031l-149.333-96c-3.271-2.135-7.5-2.25-10.875-0.396C194.125,152.51,192,156.094,192,160v192\r c0,3.906,2.125,7.49,5.563,9.365c1.583,0.865,3.354,1.302,5.104,1.302c2,0,4.021-0.563,5.771-1.698l149.333-96\r c3.042-1.958,4.896-5.344,4.896-8.969S360.813,248.99,357.771,247.031z M213.333,332.458V179.542L332.271,256L213.333,332.458z"})]})})}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{})]})},x=function(e){var t=e.isLocalPlaying;return Object(m.jsx)("svg",{className:t?"stop-icon":"stop-icon stoping",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsxs)("g",{children:[Object(m.jsx)("path",{d:"m256 512c-68.38 0-132.667-26.629-181.02-74.98-48.351-48.353-74.98-112.64-74.98-181.02s26.629-132.667 74.98-181.02c48.353-48.351 112.64-74.98 181.02-74.98s132.667 26.629 181.02 74.98c48.351 48.353 74.98 112.64 74.98 181.02s-26.629 132.667-74.98 181.02c-48.353 48.351-112.64 74.98-181.02 74.98zm0-482c-124.617 0-226 101.383-226 226s101.383 226 226 226 226-101.383 226-226-101.383-226-226-226z"}),Object(m.jsx)("g",{children:Object(m.jsx)("path",{d:"m356 371h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15v200c0 8.284-6.716 15-15 15zm-185-30h170v-170h-170z"})})]})})},v=function(){return Object(m.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",className:"move-to-icon",children:[Object(m.jsx)("g",{children:Object(m.jsx)("g",{children:Object(m.jsxs)("g",{children:[Object(m.jsx)("path",{d:"M508.271,194.568l-149.333-128c-3.146-2.708-7.583-3.323-11.396-1.594c-3.781,1.74-6.208,5.521-6.208,9.688v74.813\r c-119.188,3.313-176.688,62.312-204.021,112.031c-23.771,43.219-29.104,86.01-30.302,103.573\r c-0.229,2.688-0.344,5.427-0.344,8.219v0.031c0,0,0,0.01,0,0.021v0.01c0,0.01,0,0.01,0,0.01v0.031v0.01c0,0,0,0.01,0,0.021v0.01\r c0,0.01,0,0.021,0,0.021c0,0.01,0,0.01,0,0.01v0.031c0,0.01,0,0.021,0,0.031c0,0,0,0.01,0,0.031v0.01v0.021v0.01\r c0,0.01,0,0.021,0,0.031l0.01,0.031c0,0,0,0,0,0.01c0,0.021,0,0.031,0,0.031c0,0.01,0,0.021,0,0.031v0.031v0.031v0.01v0.031\r c0,0.01,0,0.021,0,0.031c0,0,0,0.021,0.01,0.031c0,0,0,0.01,0,0.031v0.01c0,0.01,0,0.021,0,0.031v0.031c0,0.01,0,0.021,0,0.031\r c-0.01,0.031,0.021,0.042,0.01,0.042v0.031c0,0.01,0,0.021,0,0.031v0.031c0,0.021,0.01,0.042,0.01,0.042v0.031\r c0,0.01,0,0.021,0,0.031v0.01v0.021v0.01l0.01,0.021v0.01c0,0.01,0,0.021,0,0.021c0,0.01,0,0.01,0,0.01v0.031v0.01\r c0.01,0.01,0.01,0.01,0.01,0.021c0,0,0,0.01,0,0.021v0.01c0,0.01,0,0.01,0,0.01v0.021c0.01,0.031,0.01,0.031,0.01,0.031\r c0,0.01,0,0.021,0,0.031v0.01v0.021v0.01c0.01,0.01,0.01,0.021,0.01,0.021c0,0.021,0,0.031,0,0.031\r c0.667,5.26,5.156,9.323,10.583,9.323c5.885,0,10.656-4.76,10.667-10.646v-0.01c0-0.542,0.01-1.865,0.104-3.885\r c4.656-88.698,168.521-108.823,213.229-112.667v73.875c0,4.167,2.427,7.948,6.208,9.688c3.802,1.729,8.229,1.125,11.396-1.594\r l149.333-128c2.365-2.021,3.729-4.979,3.729-8.094C512,199.547,510.635,196.589,508.271,194.568z M362.667,307.474v-62.146\r c0-2.917-1.188-5.698-3.302-7.708c-1.979-1.906-4.625-2.958-7.365-2.958c-0.156,0-0.323,0-0.49,0.01\r c-7.51,0.344-142.177,7.281-208.521,64.323c21.948-57.885,75.969-128.333,208.958-128.333H352c2.833,0,5.542-1.125,7.542-3.125\r s3.125-4.708,3.125-7.542V97.849l122.281,104.812L362.667,307.474z"}),Object(m.jsx)("path",{d:"M437.333,303.047c-5.896,0-10.667,4.771-10.667,10.667v91.615c0,11.76-9.573,21.333-21.333,21.333H42.667\r c-11.76,0-21.333-9.573-21.333-21.333V191.995c0-11.76,9.573-21.333,21.333-21.333h147.729c5.896,0,10.667-4.771,10.667-10.667\r s-4.771-10.667-10.667-10.667H42.667C19.135,149.329,0,168.464,0,191.995v213.333c0,23.531,19.135,42.667,42.667,42.667h362.667\r c23.531,0,42.667-19.135,42.667-42.667v-91.615C448,307.818,443.229,303.047,437.333,303.047z"})]})})}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{})]})},f=n(67),w=n.n(f),y={setup:function(){c=w()("/")},terminate:function(){c=null},on:function(e,t){c.on(e,t)},off:function(e,t){c.off(e,t)},emit:function(e,t){c.emit(e,t)}};var S=function(e){var t=e.precentageChange,n=e.isPlaying,c=e.idx,r=e.isSubmitingProgram,s=e.setProgram,i=e.ActiveProgram,o=e.mainFaderVolume,u=Object(a.useState)(o),j=Object(O.a)(u,2),l=j[0],b=j[1],d=Object(a.useState)(null),f=Object(O.a)(d,2),w=f[0],S=f[1],P=Object(a.useState)(!0),k=Object(O.a)(P,2),N=k[0],C=k[1];Object(a.useEffect)((function(){t&&M()}),[t]),Object(a.useEffect)((function(){C(n)}),[n]),Object(a.useEffect)((function(){i&&z()}),[i]),Object(a.useEffect)((function(){r&&s((function(e){return[].concat(Object(g.a)(e),[{name:c,value:l}])}))}),[r]),Object(a.useEffect)((function(){y.setup(),E()}),[]),Object(a.useEffect)((function(){w!==l&&w&&y.emit("volume changed",{idx:c,inputValue:l})}),[w]),Object(a.useEffect)((function(){y.emit("playing status",{idx:c,isLocalPlaying:N})}),[N]);var M=function(){var e=100/t,n=l-l/e;n>100&&(n=100),0!==o?(b(0!==l||e?n:o/(100/Math.abs(e))),0===l&&b(o),S(l)):b(o)},z=function(){var e=i.data.find((function(e){return e.name===c}));b(e.value)},E=function(){y.on("new play status from player ".concat(c),(function(e){var t=e.playStatus;C(t),console.log("hi from player ".concat(c),t)}))};return Object(m.jsxs)("div",{className:"controller-preview",children:[Object(m.jsxs)("div",{className:"controller-info",children:[Object(m.jsx)("h1",{children:"Name"}),Object(m.jsx)("h1",{children:c})]}),Object(m.jsx)("i",{onClick:function(){C(!N)},children:Object(m.jsx)(p,{isLocalPlaying:N})}),Object(m.jsx)("i",{onClick:function(){C(!N)},children:Object(m.jsx)(x,{isLocalPlaying:N})}),Object(m.jsx)("input",{type:"range",min:"0",max:"100",value:l,onChange:function(e){!function(e){b(e.target.value),y.emit("volume changed",{idx:c,inputValue:e.target.value})}(e)}}),Object(m.jsx)(h.a,{to:"/player/".concat(c),children:Object(m.jsx)(v,{})})]})},P=function(e){var t=e.mainFaderVolume,n=e.oldMainFaderVolume,c=e.setMainFaderVolume,a=e.setOldMainFaderVolume,r=e.setPrecentageChange,s=e.isPlaying,i=e.setIsPlaying;return Object(m.jsxs)("div",{className:"main-fader",children:[Object(m.jsx)("h1",{children:"Master"}),Object(m.jsx)("i",{onClick:function(){i(!s)},children:Object(m.jsx)(p,{isLocalPlaying:s})}),Object(m.jsx)("i",{onClick:function(){i(!s)},children:Object(m.jsx)(x,{isLocalPlaying:s})}),Object(m.jsx)("input",{type:"range",value:t,onChange:function(e){!function(e){c(e.target.value)}(e),function(e){var t,c,s=(t=n,c=e.target.value,(t-c)/t*100);r(s),a(e.target.value)}(e)}})]})},k=function(e){var t=e.setProgram,n=e.program,c=e.isSubmitingProgram,r=e.ActiveProgram,s=(e.updateActivePlayer,new Array(8).fill(null)),i=Object(a.useState)(100),o=Object(O.a)(i,2),u=o[0],j=o[1],l=Object(a.useState)(100),b=Object(O.a)(l,2),d=b[0],g=b[1],h=Object(a.useState)(null),p=Object(O.a)(h,2),x=p[0],v=p[1],f=Object(a.useState)(!0),w=Object(O.a)(f,2),y=w[0],k=w[1];return Object(m.jsxs)("div",{className:"controller-list",children:[Object(m.jsx)(P,{mainFaderVolume:u,oldMainFaderVolume:d,setMainFaderVolume:j,setOldMainFaderVolume:g,setPrecentageChange:v,precentageChange:x,isPlaying:y,setIsPlaying:k}),s.map((function(e,a){return Object(m.jsx)(S,{idx:a,mainFaderVolume:u,setOldMainFaderVolume:g,precentageChange:x,isPlaying:y,program:n,isSubmitingProgram:c,setProgram:t,ActiveProgram:r},a)}))]})},N=function(e){var t=e.program,n=e.handleSettingProgram;return Object(m.jsx)("div",{className:"program-preview",onClick:function(){return n(t)},children:t.name})},C=function(e){var t=e.handleSubmit,n=e.setProgramName,c=e.programs,a=e.handleSettingProgram;return Object(m.jsxs)("div",{className:"programs",children:[Object(m.jsx)("h1",{children:"Programs"}),Object(m.jsxs)("form",{onSubmit:function(e){return t(e)},children:[Object(m.jsx)("input",{type:"text",placeholder:"program name",onChange:function(e){return n(e.target.value)}}),Object(m.jsx)("button",{children:"save program"})]}),!!c.length&&c.map((function(e,t){return Object(m.jsx)(N,{program:e,handleSettingProgram:a},t)}))]})},M=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)([]),j=Object(O.a)(u,2),l=j[0],b=j[1],d=Object(a.useState)(!1),h=Object(O.a)(d,2),p=h[0],x=h[1],v=Object(a.useState)(null),f=Object(O.a)(v,2),w=f[0],y=f[1];return Object(a.useEffect)((function(){n.length&&(b((function(e){return[].concat(Object(g.a)(e),[{name:i,data:n}])})),c([]))}),[n]),Object(a.useEffect)((function(){console.log(l)}),[l]),Object(m.jsxs)("div",{className:"admin-panel-container",children:[Object(m.jsx)("h1",{children:"AdminPanel"}),Object(m.jsxs)("div",{className:"admin-panel",children:[Object(m.jsx)(k,{setProgram:c,program:n,isSubmitingProgram:p,ActiveProgram:w}),Object(m.jsx)(C,{handleSubmit:function(e){e.preventDefault(),x(!0),setTimeout((function(){x(!1)}),500)},programName:i,setProgramName:o,programs:l,handleSettingProgram:function(e){y(e)}})]})]})},z=n(6),E=n.n(z),T=n(17);var L={uploadSong:function(e){var t="https://api.cloudinary.com/v1_1/".concat("tamir","/video/upload"),n=new FormData;return e.target?n.append("file",e.target.files[0]):n.append("file",e),n.append("upload_preset","u1inrfbp"),fetch(t,{method:"POST",body:n,secure:!0}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}},D=n(69),V=n.n(D).a.create({withCredentials:!0}),F="/api/",_=function(e,t){return R(e,"GET",t)},B=function(e,t){return R(e,"POST",t)},I=function(e,t){return R(e,"PUT",t)},A=function(e,t){return R(e,"DELETE",t)};function R(e){return U.apply(this,arguments)}function U(){return(U=Object(T.a)(E.a.mark((function e(t){var n,c,a,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",c=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,V({method:n,url:"".concat(F).concat(t),data:c});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:if(e.prev=9,e.t0=e.catch(2),401!==e.t0.response.status){e.next=13;break}return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var J=n(70),H=n.n(J);function X(){return(X=Object(T.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._id=H.a.makeId(),e.abrupt("return",I("room/addSong",{songObj:t,idx:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(T.a)(E.a.mark((function e(t){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id?I("room/".concat(t._id),t):B("room",t),e.next=3,n;case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q={query:function(e){var t=new URLSearchParams(e);return _("room?".concat(t))},getById:function(e){var t=new URLSearchParams;if(e){for(var n in e)e[n]&&t.set(n,e[n]);return _("room?".concat(t))}},save:function(e){return W.apply(this,arguments)},remove:function(e){return A("room/".concat(e))},addNewSong:function(e,t){return X.apply(this,arguments)},getRoom:function(e){var t=new URLSearchParams;if(e){for(var n in e)e[n]&&t.set(n,e[n]);return _("room?".concat(t))}}},G=n(71),Y=n.n(G),K=function(e){var t=e.song,n=e.idx,c=e.isDeleting,a=(e.handleDeletingSongs,e.idToDelete),r=e.setSongIdToDelete;return Object(m.jsxs)("div",{className:"song-preview",children:[c&&Object(m.jsx)("input",{type:"checkbox",onChange:function(){return function(){var e=a.includes(t._id);r(e?a.filter((function(e){return e!==t._id})):[].concat(Object(g.a)(a),[t._id]))}()}}),Object(m.jsxs)("h2",{children:[n+1," - ",t.name]})]})},Q=function(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(m.jsxs)("rect",{x:"17.5",y:"30",width:"15",height:"40",fill:"#1d3f72",children:[Object(m.jsx)("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"18;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"}),Object(m.jsx)("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"64;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.2s"})]}),Object(m.jsxs)("rect",{x:"42.5",y:"30",width:"15",height:"40",fill:"#5699d2",children:[Object(m.jsx)("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"}),Object(m.jsx)("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",begin:"-0.1s"})]}),Object(m.jsxs)("rect",{x:"67.5",y:"30",width:"15",height:"40",fill:"#d8ebf9",children:[Object(m.jsx)("animate",{attributeName:"y",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"20.999999999999996;30;30",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"}),Object(m.jsx)("animate",{attributeName:"height",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keyTimes:"0;0.5;1",values:"58.00000000000001;40;40",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1"})]})]})},Z=function(){return Object(m.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 476.912 476.912",xmlSpace:"preserve",className:"home-icon",children:[Object(m.jsx)("g",{children:Object(m.jsx)("g",{children:Object(m.jsx)("path",{d:"M461.776,209.408L249.568,4.52c-6.182-6.026-16.042-6.026-22.224,0L15.144,209.4c-3.124,3.015-4.888,7.17-4.888,11.512\r c0,8.837,7.164,16,16,16h28.2v224c0,8.837,7.163,16,16,16h112c8.837,0,16-7.163,16-16v-128h80v128c0,8.837,7.163,16,16,16h112\r c8.837,0,16-7.163,16-16v-224h28.2c4.338,0,8.489-1.761,11.504-4.88C468.301,225.678,468.129,215.549,461.776,209.408z\r M422.456,220.912c-8.837,0-16,7.163-16,16v224h-112v-128c0-8.837-7.163-16-16-16h-80c-8.837,0-16,7.163-16,16v128h-112v-224\r c0-8.837-7.163-16-16-16h-28.2l212.2-204.88l212.28,204.88H422.456z"})})}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{}),Object(m.jsx)("g",{})]})},$=function(){return Object(m.jsx)("svg",{height:"512",viewBox:"0 0 24 24",width:"512",xmlns:"http://www.w3.org/2000/svg",className:"add-song-icon",children:Object(m.jsxs)("g",{children:[Object(m.jsx)("path",{d:"m2.5 12c0-5.24671 4.25329-9.5 9.5-9.5 5.2467 0 9.5 4.25329 9.5 9.5 0 1.1707-.2115 2.2908-.598 3.325-.0966.2587.0347.5467.2934.6434.2586.0966.5467-.0347.6434-.2934.4276-1.1445.6612-2.383.6612-3.675 0-5.79899-4.701-10.5-10.5-10.5-5.79899 0-10.5 4.70101-10.5 10.5 0 5.799 4.70101 10.5 10.5 10.5.5348 0 1.0605-.04 1.5744-.1173.273-.0411.4611-.2958.42-.5688-.041-.2731-.2957-.4612-.5688-.4201-.4647.0699-.9408.1062-1.4256.1062-5.24671 0-9.5-4.2533-9.5-9.5z"}),Object(m.jsx)("path",{d:"m16 18.5c-.2761 0-.5.2239-.5.5s.2239.5.5.5h1.5v1.5c0 .2761.2239.5.5.5s.5-.2239.5-.5v-1.5h1.5c.2761 0 .5-.2239.5-.5s-.2239-.5-.5-.5h-1.5v-1.5c0-.2761-.2239-.5-.5-.5s-.5.2239-.5.5v1.5z"}),Object(m.jsx)("path",{clipRule:"evenodd",d:"m10.2572 8.57125c-.1544-.09268-.34679-.0951-.50355-.00635-.15675.08875-.25365.25496-.25365.4351v6c0 .1801.0969.3463.25365.4351.15676.0888.34915.0863.50355-.0064l5-3c.1507-.0903.2428-.2531.2428-.4287s-.0921-.3384-.2428-.4287zm3.771 3.42875-3.5282 2.1169v-4.23381z"})]})})},ee=function(e){var t=e.isDeleting;return Object(m.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:t?"remove-song-icon deleting":"remove-song-icon",children:Object(m.jsxs)("g",{children:[Object(m.jsx)("path",{d:"m12 2.5c-5.24671 0-9.5 4.25329-9.5 9.5 0 5.2467 4.25329 9.5 9.5 9.5.4848 0 .9609-.0363 1.4256-.1062.2731-.0411.5278.147.5688.4201.0411.273-.147.5277-.42.5688-.5139.0773-1.0396.1173-1.5744.1173-5.79899 0-10.5-4.701-10.5-10.5 0-5.79899 4.70101-10.5 10.5-10.5 5.799 0 10.5 4.70101 10.5 10.5 0 1.292-.2336 2.5305-.6612 3.675-.0967.2587-.3848.39-.6434.2934-.2587-.0967-.39-.3847-.2934-.6434.3865-1.0342.598-2.1543.598-3.325 0-5.24671-4.2533-9.5-9.5-9.5z"}),Object(m.jsx)("path",{d:"m21.5 19.5c0 .2761-.2239.5-.5.5h-4c-.2761 0-.5-.2239-.5-.5s.2239-.5.5-.5h4c.2761 0 .5.2239.5.5z"}),Object(m.jsx)("path",{d:"m10.2572 8.57125c-.1544-.09268-.34679-.0951-.50355-.00635-.15675.08875-.25365.25496-.25365.4351v6c0 .1801.0969.3463.25365.4351.15676.0888.34915.0863.50355-.0064l5-3c.1507-.0903.2428-.2531.2428-.4287s-.0921-.3384-.2428-.4287zm3.771 3.42875-3.5282 2.1169v-4.23381z"})]})})},te=function(e){var t=Object(a.useState)(null),n=Object(O.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(0),i=Object(O.a)(s,2),o=i[0],u=i[1],j=Object(a.useState)([]),l=Object(O.a)(j,2),b=l[0],d=l[1],g=Object(a.useState)(null),p=Object(O.a)(g,2),x=p[0],v=p[1],f=Object(a.useState)(null),w=Object(O.a)(f,2),S=w[0],P=w[1],k=Object(a.useState)(null),N=Object(O.a)(k,2),C=N[0],M=N[1],z=Object(a.useState)([]),D=Object(O.a)(z,2),V=D[0],F=D[1],_=Object(a.useState)(!0),B=Object(O.a)(_,2),I=B[0],A=B[1],R=Object(a.useState)(!1),U=Object(O.a)(R,2),J=U[0],H=U[1],X=Object(a.useState)([{hours:10,minutes:0,seconds:0,action:"play"},{hours:14,minutes:0,seconds:0,action:"pause"},{hours:16,minutes:0,seconds:0,action:"play"},{hours:20,minutes:0,seconds:0,action:"pause"}]),W=Object(O.a)(X,2),G=W[0],te=(W[1],function(){var e=Object(T.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.uploadSong(t);case 2:n=e.sent,M({name:n.original_filename,songUrl:n.secure_url});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ne=function(e){var t=S.playlist.map((function(e){return e.songUrl}));return e?t.push(e):t},ce=function(){if(b.length){var e=JSON.parse(JSON.stringify(S));b.forEach((function(t){var n=e.playlist.findIndex((function(e){return t===e._id}));e.playlist.splice(n,1)})),P(e),d(""),q.save(e)}},ae=function(){var e=function e(t){switch(t){case"play":A(!0),console.log("playing");break;case"pause":A(!1),console.log("stopping")}setTimeout((function(n){e(t)}),864e5)};G.forEach((function(t){var n=function(e,t,n){var c=new Date;return c.setHours(e),c.setMinutes(t),c.setSeconds(n),c}(t.hours,t.minutes,t.seconds)-new Date;n<0&&(n+=864e5),setTimeout((function(n){e(t.action)}),n)}))};return Object(a.useEffect)(Object(T.a)(E.a.mark((function t(){var n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.setup(),r(null===e||void 0===e||null===(n=e.match)||void 0===n||null===(c=n.params)||void 0===c?void 0:c.id),t.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:ae();case 5:case"end":return t.stop()}}),t)}))),[]),Object(a.useEffect)((function(){if(C){var e=JSON.parse(JSON.stringify(S));e.playlist.push(C),P(e),q.addNewSong(C,c),F(ne(C.songUrl))}}),[C]),Object(a.useEffect)(Object(T.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=7;break}return y.on("change volume ".concat(c),(function(e){var t=e.newValue;v(t/100)})),y.on("new play status ".concat(c),(function(e){var t=e.isLocalPlaying;A(t)})),e.t0=P,e.next=5,q.getRoom({roomIdx:c});case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)}))),[c]),Object(a.useEffect)((function(){S&&F(ne())}),[S]),S?Object(m.jsxs)("div",{className:"music-player",children:[Object(m.jsxs)("div",{className:"music-player-header",children:[Object(m.jsx)("h2",{children:c}),Object(m.jsx)("h2",{children:"Room Name"}),V.length&&Object(m.jsx)("div",{className:"player-wrapper",children:Object(m.jsx)(Y.a,{playing:I,controls:!0,url:V[o],className:"react-player",volume:x,onEnded:function(){console.log("song ended");var e=o+1;e%=V.length,u(e)},height:"10%"})}),Object(m.jsx)(h.a,{to:"/",children:Object(m.jsx)(Z,{})})]}),Object(m.jsxs)("div",{className:"song-list",children:[Object(m.jsx)("span",{className:"songs",children:S&&S.playlist.map((function(e,t){return Object(m.jsx)(K,{song:e,idx:t,isDeleting:J,handleDeletingSongs:ce,idToDelete:b,setSongIdToDelete:d},t)}))}),Object(m.jsxs)("span",{className:"icons",children:[Object(m.jsx)("i",{children:Object(m.jsxs)("label",{children:[Object(m.jsx)($,{}),Object(m.jsx)("input",{type:"file",onChange:function(e){return te(e)},hidden:!0})]})}),Object(m.jsx)("i",{onClick:function(){H(!J),ce()},children:Object(m.jsx)(ee,{isDeleting:J})})]})]})]}):Object(m.jsx)(Q,{})},ne=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"router-page",children:Object(m.jsx)("main",{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",exact:!0,component:M}),Object(m.jsx)(o.a,{path:"/player/:id",component:te})]})})})}}]),n}(r.a.Component),ce=Object(u.a)();var ae=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(o.b,{history:ce,children:Object(m.jsx)(ne,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ae,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),re()},70:function(e,t){e.exports={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}},78:function(e,t,n){},79:function(e,t,n){}},[[150,1,2]]]);
//# sourceMappingURL=main.9922e132.chunk.js.map