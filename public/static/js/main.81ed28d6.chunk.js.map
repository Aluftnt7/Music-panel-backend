{"version":3,"sources":["services/SocketService.js","icons/PlayIcon.js","icons/StopIcon.js","icons/MoveToIcon.js","cmps/ControllerPreview.js","cmps/MainFader.js","cmps/ControllersList.js","cmps/ProgramPreview.js","cmps/Programs.js","services/HttpService.js","services/ProgramsService.js","pages/AdminPanel.js","services/CloudinaryService.js","services/RoomService.js","cmps/SongPreview.js","cmps/Loader.js","icons/HomeIcon.js","icons/AddSongIcon.js","icons/RemoveSongIcon.js","pages/MusicPlayer.js","cmps/RoutePage.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js","services/UtilService.js"],"names":["socket","isLocalPlaying","version","xmlns","xmlnsXlink","className","viewBox","xmlSpace","d","id","x","y","setup","io","terminate","on","eventName","cb","off","emit","data","precentageChange","isPlaying","idx","isSubmitingProgram","setProgram","ActiveProgram","mainFaderVolume","useState","inputValue","setInputValue","oldInputValue","setOldInputValue","setIsLocalPlaying","useEffect","handlePrecentageChange","handleChangeOfProgram","program","name","value","SocketService","connectSockets","disconnectSockets","newInputChangePrecentage","newInputVal","Math","abs","newValueFromProgram","find","room","playStatus","console","log","onClick","PlayIcon","StopIcon","type","min","max","onChange","ev","target","handleInputChange","to","oldMainFaderVolume","setMainFaderVolume","setOldMainFaderVolume","setPrecentageChange","setIsPlaying","handleMasterVolumeChange","oldNumber","newNumber","newPrecentageChange","handleOldValues","musicPlayers","updateActivePlayer","Array","fill","MainFader","map","_","ControllerPreview","handleSettingProgram","handleDeleteProgram","programName","handleSubmit","setProgramName","programs","onSubmit","placeholder","length","ProgramPreview","axios","Axios","create","withCredentials","BASE_URL","HttpService","endpoint","ajax","a","method","url","res","response","status","programData","_id","UtilService","makeId","prm","ProgramsService","getById","filterBy","queryParams","URLSearchParams","property","set","save","remove","addProgram","getPrograms","deleteProgram","setPrograms","setIsSubmitingProgram","setActiveProgram","updatedProgram","ControllersList","Programs","preventDefault","setTimeout","programToDelete","programsCopy","JSON","parse","stringify","findIndex","splice","uploadSong","UPLOAD_URL","formData","FormData","append","files","fetch","body","secure","then","json","catch","err","error","songObj","RoomService","query","critirea","params","addNewSong","getRoom","song","isDeleting","idToDelete","handleDeletingSongs","setSongIdToDelete","isIdAdded","includes","filter","handleIdToDelete","width","height","preserveAspectRatio","attributeName","repeatCount","dur","calcMode","keyTimes","values","keySplines","begin","clipRule","props","roomIdx","setRoomIdx","songIdx","setSongIdx","volume","setVolume","setRoom","songObg","setSongObj","isUploading","setIsUploading","playList","setPlaylist","setPlayStatus","setIsDeleting","hours","minutes","seconds","action","playingTime","onUploadSong","CloudinaryService","newSongUrl","original_filename","songUrl","secure_url","updatePlaylist","newSong","playlist","push","roomCopy","forEach","handlePlayingTime","runEveryDay","act","t","time","activatingTime","Date","setHours","setMinutes","setSeconds","generatePlayingTimes","match","navigator","mediaDevices","getUserMedia","audio","newValue","playing","controls","onEnded","nextIdx","HomeIcon","Loader","SongPreview","AddSongIcon","hidden","RemoveSongIcon","RoutePage","path","exact","component","AdminPanel","MusicPlayer","React","Component","history","createBrowserHistory","App","Boolean","window","location","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message","module","exports","text","possible","i","charAt","floor","random"],"mappings":"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","file":"static/js/main.81ed28d6.chunk.js","sourcesContent":["import io from \"socket.io-client\";\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === \"production\" ? \"/\" : \"//localhost:3030\";\r\nvar socket;\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit,\r\n};\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  socket.on(eventName, cb);\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data);\r\n}\r\n","import React from \"react\";\r\n\r\nexport default ({ isLocalPlaying }) => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      className={isLocalPlaying ? \"play-icon playing\" : \"play-icon\"}\r\n      viewBox=\"0 0 512 512\"\r\n      xmlSpace=\"preserve\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <g>\r\n            <path\r\n              d=\"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M256,490.667\r\n               C126.604,490.667,21.333,385.396,21.333,256S126.604,21.333,256,21.333S490.667,126.604,490.667,256S385.396,490.667,256,490.667\r\n               z\"\r\n            />\r\n            <path\r\n              d=\"M357.771,247.031l-149.333-96c-3.271-2.135-7.5-2.25-10.875-0.396C194.125,152.51,192,156.094,192,160v192\r\n               c0,3.906,2.125,7.49,5.563,9.365c1.583,0.865,3.354,1.302,5.104,1.302c2,0,4.021-0.563,5.771-1.698l149.333-96\r\n               c3.042-1.958,4.896-5.344,4.896-8.969S360.813,248.99,357.771,247.031z M213.333,332.458V179.542L332.271,256L213.333,332.458z\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ isLocalPlaying }) => {\r\n  return (\r\n    <svg\r\n      className={!isLocalPlaying ? \"stop-icon stoping\" : \"stop-icon\"}\r\n      viewBox=\"0 0 512 512\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <g>\r\n        <path d=\"m256 512c-68.38 0-132.667-26.629-181.02-74.98-48.351-48.353-74.98-112.64-74.98-181.02s26.629-132.667 74.98-181.02c48.353-48.351 112.64-74.98 181.02-74.98s132.667 26.629 181.02 74.98c48.351 48.353 74.98 112.64 74.98 181.02s-26.629 132.667-74.98 181.02c-48.353 48.351-112.64 74.98-181.02 74.98zm0-482c-124.617 0-226 101.383-226 226s101.383 226 226 226 226-101.383 226-226-101.383-226-226-226z\" />\r\n        <g>\r\n          <path d=\"m356 371h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15v200c0 8.284-6.716 15-15 15zm-185-30h170v-170h-170z\" />\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Capa_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 512 512\"\r\n      xmlSpace=\"preserve\"\r\n      className=\"move-to-icon\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <g>\r\n            <path\r\n              d=\"M508.271,194.568l-149.333-128c-3.146-2.708-7.583-3.323-11.396-1.594c-3.781,1.74-6.208,5.521-6.208,9.688v74.813\r\n\t\t\t\tc-119.188,3.313-176.688,62.312-204.021,112.031c-23.771,43.219-29.104,86.01-30.302,103.573\r\n\t\t\t\tc-0.229,2.688-0.344,5.427-0.344,8.219v0.031c0,0,0,0.01,0,0.021v0.01c0,0.01,0,0.01,0,0.01v0.031v0.01c0,0,0,0.01,0,0.021v0.01\r\n\t\t\t\tc0,0.01,0,0.021,0,0.021c0,0.01,0,0.01,0,0.01v0.031c0,0.01,0,0.021,0,0.031c0,0,0,0.01,0,0.031v0.01v0.021v0.01\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031l0.01,0.031c0,0,0,0,0,0.01c0,0.021,0,0.031,0,0.031c0,0.01,0,0.021,0,0.031v0.031v0.031v0.01v0.031\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031c0,0,0,0.021,0.01,0.031c0,0,0,0.01,0,0.031v0.01c0,0.01,0,0.021,0,0.031v0.031c0,0.01,0,0.021,0,0.031\r\n\t\t\t\tc-0.01,0.031,0.021,0.042,0.01,0.042v0.031c0,0.01,0,0.021,0,0.031v0.031c0,0.021,0.01,0.042,0.01,0.042v0.031\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031v0.01v0.021v0.01l0.01,0.021v0.01c0,0.01,0,0.021,0,0.021c0,0.01,0,0.01,0,0.01v0.031v0.01\r\n\t\t\t\tc0.01,0.01,0.01,0.01,0.01,0.021c0,0,0,0.01,0,0.021v0.01c0,0.01,0,0.01,0,0.01v0.021c0.01,0.031,0.01,0.031,0.01,0.031\r\n\t\t\t\tc0,0.01,0,0.021,0,0.031v0.01v0.021v0.01c0.01,0.01,0.01,0.021,0.01,0.021c0,0.021,0,0.031,0,0.031\r\n\t\t\t\tc0.667,5.26,5.156,9.323,10.583,9.323c5.885,0,10.656-4.76,10.667-10.646v-0.01c0-0.542,0.01-1.865,0.104-3.885\r\n\t\t\t\tc4.656-88.698,168.521-108.823,213.229-112.667v73.875c0,4.167,2.427,7.948,6.208,9.688c3.802,1.729,8.229,1.125,11.396-1.594\r\n\t\t\t\tl149.333-128c2.365-2.021,3.729-4.979,3.729-8.094C512,199.547,510.635,196.589,508.271,194.568z M362.667,307.474v-62.146\r\n\t\t\t\tc0-2.917-1.188-5.698-3.302-7.708c-1.979-1.906-4.625-2.958-7.365-2.958c-0.156,0-0.323,0-0.49,0.01\r\n\t\t\t\tc-7.51,0.344-142.177,7.281-208.521,64.323c21.948-57.885,75.969-128.333,208.958-128.333H352c2.833,0,5.542-1.125,7.542-3.125\r\n\t\t\t\ts3.125-4.708,3.125-7.542V97.849l122.281,104.812L362.667,307.474z\"\r\n            />\r\n            <path\r\n              d=\"M437.333,303.047c-5.896,0-10.667,4.771-10.667,10.667v91.615c0,11.76-9.573,21.333-21.333,21.333H42.667\r\n\t\t\t\tc-11.76,0-21.333-9.573-21.333-21.333V191.995c0-11.76,9.573-21.333,21.333-21.333h147.729c5.896,0,10.667-4.771,10.667-10.667\r\n\t\t\t\ts-4.771-10.667-10.667-10.667H42.667C19.135,149.329,0,168.464,0,191.995v213.333c0,23.531,19.135,42.667,42.667,42.667h362.667\r\n\t\t\t\tc23.531,0,42.667-19.135,42.667-42.667v-91.615C448,307.818,443.229,303.047,437.333,303.047z\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport PlayIcon from \"../icons/PlayIcon\";\r\nimport StopIcon from \"../icons/StopIcon\";\r\nimport MoveTo from \"../icons/MoveToIcon\";\r\n\r\nimport SocketService from \"../services/SocketService\";\r\n\r\nexport default ({\r\n  precentageChange,\r\n  isPlaying,\r\n  idx,\r\n  isSubmitingProgram,\r\n  setProgram,\r\n  ActiveProgram,\r\n  mainFaderVolume,\r\n}) => {\r\n  const [inputValue, setInputValue] = useState(mainFaderVolume);\r\n  const [oldInputValue, setOldInputValue] = useState(null);\r\n  const [isLocalPlaying, setIsLocalPlaying] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (precentageChange) {\r\n      handlePrecentageChange();\r\n    }\r\n  }, [precentageChange]);\r\n\r\n  useEffect(() => {\r\n    setIsLocalPlaying(isPlaying);\r\n  }, [isPlaying]);\r\n\r\n  useEffect(() => {\r\n    if (ActiveProgram) {\r\n      handleChangeOfProgram();\r\n    }\r\n  }, [ActiveProgram]);\r\n\r\n  useEffect(() => {\r\n    if (isSubmitingProgram) {\r\n      setProgram((program) => [...program, { name: idx, value: inputValue }]);\r\n    }\r\n  }, [isSubmitingProgram]);\r\n\r\n  useEffect(() => {\r\n    SocketService.setup();\r\n    connectSockets();\r\n    return () => {\r\n      disconnectSockets();\r\n    };\r\n    // return () => {\r\n    //   if (idx) {\r\n    //     disconnectSockets();\r\n    //   }\r\n    // };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (oldInputValue !== inputValue && oldInputValue) {\r\n      SocketService.emit(`volume changed`, { idx, inputValue });\r\n    }\r\n  }, [oldInputValue]);\r\n\r\n  useEffect(() => {\r\n    SocketService.emit(`playing status`, { idx, isLocalPlaying });\r\n  }, [isLocalPlaying]);\r\n\r\n  const handlePrecentageChange = () => {\r\n    let newInputChangePrecentage = 100 / precentageChange;\r\n    let newInputVal = inputValue - inputValue / newInputChangePrecentage;\r\n    if (newInputVal > 100) {\r\n      newInputVal = 100;\r\n    }\r\n    if (mainFaderVolume === 0) {\r\n      setInputValue(mainFaderVolume);\r\n      return;\r\n    }\r\n    inputValue === 0 && !newInputChangePrecentage\r\n      ? setInputValue(\r\n          mainFaderVolume / (100 / Math.abs(newInputChangePrecentage))\r\n        )\r\n      : setInputValue(newInputVal);\r\n    if (inputValue === 0) {\r\n      setInputValue(mainFaderVolume);\r\n    }\r\n    setOldInputValue(inputValue);\r\n  };\r\n\r\n  const handleInputChange = (ev) => {\r\n    setInputValue(ev.target.value);\r\n    SocketService.emit(`volume changed`, { idx, inputValue: ev.target.value });\r\n  };\r\n\r\n  const disconnectSockets = () => {\r\n    SocketService.setup();\r\n    if (idx) {\r\n      SocketService.off(`new play status from player ${idx}`);\r\n      SocketService.terminate();\r\n    }\r\n  };\r\n\r\n  const handleChangeOfProgram = () => {\r\n    let newValueFromProgram = ActiveProgram.program.find(\r\n      (room) => room.name === idx\r\n    );\r\n    setInputValue(newValueFromProgram.value);\r\n    SocketService.emit(`volume changed`, {\r\n      idx,\r\n      inputValue: newValueFromProgram.value,\r\n    });\r\n  };\r\n\r\n  const connectSockets = () => {\r\n    //   SocketService.on(`change volume ${idx}`, ({ newValue }) => {\r\n    //     console.log(`hi from player ${idx}`, newValue);\r\n    //   });\r\n    SocketService.on(`new play status from player ${idx}`, ({ playStatus }) => {\r\n      setIsLocalPlaying(playStatus);\r\n      console.log(`hi from player ${idx}`, playStatus);\r\n    });\r\n  };\r\n\r\n  // const disconnectSockets = () => {\r\n  //   console.log(`disconect socket ${idx}`);\r\n  //   SocketService.off(`change volume ${idx}`);\r\n  // };\r\n\r\n  return (\r\n    <div className=\"controller-preview\">\r\n      <div className=\"controller-info\">\r\n        <h1>Name</h1>\r\n        <h1>{idx}</h1>\r\n      </div>\r\n      <i\r\n        onClick={() => {\r\n          setIsLocalPlaying(!isLocalPlaying);\r\n        }}\r\n      >\r\n        <PlayIcon isLocalPlaying={isLocalPlaying} />\r\n      </i>\r\n      <i\r\n        onClick={() => {\r\n          setIsLocalPlaying(!isLocalPlaying);\r\n        }}\r\n      >\r\n        <StopIcon isLocalPlaying={isLocalPlaying} />\r\n      </i>\r\n      <input\r\n        type=\"range\"\r\n        min=\"0\"\r\n        max=\"100\"\r\n        value={inputValue}\r\n        onChange={(ev) => {\r\n          handleInputChange(ev);\r\n        }}\r\n      />\r\n      <Link to={`/player/${idx}`}>\r\n        <MoveTo />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PlayIcon from \"../icons/PlayIcon\";\r\nimport StopIcon from \"../icons/StopIcon\";\r\n\r\nexport default ({\r\n  mainFaderVolume,\r\n  oldMainFaderVolume,\r\n  setMainFaderVolume,\r\n  setOldMainFaderVolume,\r\n  setPrecentageChange,\r\n  isPlaying,\r\n  setIsPlaying,\r\n}) => {\r\n  const handleMasterVolumeChange = (ev) => {\r\n    setMainFaderVolume(ev.target.value);\r\n  };\r\n\r\n  const getPercentageChange = (oldNumber, newNumber) => {\r\n    var decreaseValue = oldNumber - newNumber;\r\n    return (decreaseValue / oldNumber) * 100;\r\n  };\r\n\r\n  const handleOldValues = (ev) => {\r\n    let newPrecentageChange = getPercentageChange(\r\n      oldMainFaderVolume,\r\n      ev.target.value\r\n    );\r\n\r\n    setPrecentageChange(newPrecentageChange);\r\n    setOldMainFaderVolume(ev.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-fader\">\r\n      <h1>Master</h1>\r\n      <i\r\n        onClick={() => {\r\n          setIsPlaying(!isPlaying);\r\n        }}\r\n      >\r\n        <PlayIcon isLocalPlaying={isPlaying} />\r\n      </i>\r\n      <i\r\n        onClick={() => {\r\n          setIsPlaying(!isPlaying);\r\n        }}\r\n      >\r\n        <StopIcon isLocalPlaying={isPlaying} />\r\n      </i>\r\n      <input\r\n        type=\"range\"\r\n        value={mainFaderVolume}\r\n        onChange={(ev) => {\r\n          handleMasterVolumeChange(ev);\r\n          handleOldValues(ev);\r\n        }}\r\n        // onMouseUp={(ev) => handleOldValues(ev)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ControllerPreview from \"../cmps/ControllerPreview\";\r\nimport MainFader from \"../cmps/MainFader\";\r\n\r\nexport default ({\r\n  setProgram,\r\n  program,\r\n  isSubmitingProgram,\r\n  ActiveProgram,\r\n  updateActivePlayer,\r\n}) => {\r\n  const totalPlayersNumber = 8;\r\n  const musicPlayers = new Array(totalPlayersNumber).fill(null);\r\n\r\n  const [mainFaderVolume, setMainFaderVolume] = useState(100);\r\n  const [oldMainFaderVolume, setOldMainFaderVolume] = useState(100);\r\n  const [precentageChange, setPrecentageChange] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n\r\n  return (\r\n    <div className=\"controller-list\">\r\n      <MainFader\r\n        mainFaderVolume={mainFaderVolume}\r\n        oldMainFaderVolume={oldMainFaderVolume}\r\n        setMainFaderVolume={setMainFaderVolume}\r\n        setOldMainFaderVolume={setOldMainFaderVolume}\r\n        setPrecentageChange={setPrecentageChange}\r\n        precentageChange={precentageChange}\r\n        isPlaying={isPlaying}\r\n        setIsPlaying={setIsPlaying}\r\n      />\r\n      {musicPlayers.map((_, idx) => (\r\n        <ControllerPreview\r\n          idx={idx}\r\n          key={idx}\r\n          mainFaderVolume={mainFaderVolume}\r\n          setOldMainFaderVolume={setOldMainFaderVolume}\r\n          precentageChange={precentageChange}\r\n          isPlaying={isPlaying}\r\n          program={program}\r\n          isSubmitingProgram={isSubmitingProgram}\r\n          setProgram={setProgram}\r\n          ActiveProgram={ActiveProgram}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ program, handleSettingProgram, handleDeleteProgram }) => {\r\n  return (\r\n    <div className=\"program-preview\">\r\n      <div className=\"program-details\">\r\n        <h4\r\n          className=\"program-name\"\r\n          onClick={() => handleSettingProgram(program)}\r\n        >\r\n          {\" \"}\r\n          {program.programName}\r\n        </h4>\r\n        <h4 className=\"x-mark\" onClick={() => handleDeleteProgram(program)}>\r\n          X\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ProgramPreview from \"../cmps/ProgramPreview\";\r\n\r\nexport default ({\r\n  handleSubmit,\r\n  setProgramName,\r\n  programs,\r\n  handleSettingProgram,\r\n  handleDeleteProgram,\r\n}) => {\r\n  return (\r\n    <div className=\"programs\">\r\n      <h1>Programs</h1>\r\n      <form onSubmit={(ev) => handleSubmit(ev)}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"program name\"\r\n          onChange={(ev) => setProgramName(ev.target.value)}\r\n        />\r\n        <button>save program</button>\r\n      </form>\r\n      {!!programs.length &&\r\n        programs.map((program, idx) => (\r\n          <ProgramPreview\r\n            program={program}\r\n            handleDeleteProgram={handleDeleteProgram}\r\n            key={idx}\r\n            handleSettingProgram={handleSettingProgram}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n","// import router from '@/router'\r\n// import store from '@/store'\r\n\r\nimport Axios from \"axios\";\r\nvar axios = Axios.create({\r\n  withCredentials: true,\r\n});\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV !== \"development\" ? \"/api/\" : \"//localhost:3030/api/\";\r\n\r\nexport const HttpService = {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, \"GET\", data);\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, \"POST\", data);\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, \"PUT\", data);\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, \"DELETE\", data);\r\n  },\r\n};\r\n\r\nasync function ajax(endpoint, method = \"get\", data = null) {\r\n  try {\r\n    const res = await axios({\r\n      method,\r\n      url: `${BASE_URL}${endpoint}`,\r\n      data,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    if (err.response.status === 401) {\r\n      return false;\r\n      // throw new Error('error:  http.service page')\r\n      // router.push('/');\r\n    }\r\n  }\r\n}\r\n","import { HttpService } from \"./HttpService\";\r\nimport UtilService from \"./UtilService\";\r\n\r\n// function query(critirea) {\r\n//   const params = new URLSearchParams(critirea);\r\n//   return HttpService.get(`programs?${params}`);\r\n// }\r\n\r\nfunction getPrograms(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n  }\r\n  return HttpService.get(`programs?${queryParams}`);\r\n}\r\n\r\nasync function addProgram(programData) {\r\n  console.log(\"in SERVICE \", programData);\r\n  programData._id = UtilService.makeId();\r\n  console.log(programData);\r\n  let res = await HttpService.post(\"programs\", programData);\r\n  console.log(res);\r\n  return res;\r\n}\r\n\r\nfunction getById(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`room/${id}`);\r\n}\r\n\r\nasync function save(room) {\r\n  let prm;\r\n\r\n  if (room._id) prm = HttpService.put(`room/${room._id}`, room);\r\n  else {\r\n    prm = HttpService.post(\"room\", room);\r\n  }\r\n  const res = await prm;\r\n  return res;\r\n}\r\n\r\nasync function deleteProgram(program) {\r\n  await HttpService.delete(`programs/${program._id}`, program);\r\n}\r\n\r\nexport const ProgramsService = {\r\n  // query,\r\n  getById,\r\n  save,\r\n  remove,\r\n  addProgram,\r\n  getPrograms,\r\n  deleteProgram,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ControllersList from \"../cmps/ControllersList\";\r\nimport Programs from \"../cmps/Programs\";\r\nimport { ProgramsService } from \"../services/ProgramsService\";\r\n\r\nexport default () => {\r\n  const [program, setProgram] = useState([]);\r\n  const [programName, setProgramName] = useState(\"\");\r\n  const [programs, setPrograms] = useState([]);\r\n  const [isSubmitingProgram, setIsSubmitingProgram] = useState(false);\r\n  const [ActiveProgram, setActiveProgram] = useState(null);\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    setIsSubmitingProgram(true);\r\n    setTimeout(() => {\r\n      setIsSubmitingProgram(false);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSettingProgram = (program) => {\r\n    setActiveProgram(program);\r\n  };\r\n\r\n  const handleDeleteProgram = (programToDelete) => {\r\n    let programsCopy = JSON.parse(JSON.stringify(programs));\r\n    let idx = programs.findIndex(\r\n      (program) => program._id === programToDelete._id\r\n    );\r\n    ProgramsService.deleteProgram(programToDelete);\r\n    programsCopy.splice(idx, 1);\r\n    setPrograms(programsCopy);\r\n  };\r\n\r\n  const updateActivePlayer = (isPlaying, idx) => {\r\n    console.log(idx);\r\n    console.log(isPlaying);\r\n  };\r\n\r\n  useEffect(async () => {\r\n    if (program.length) {\r\n      let updatedProgram = await ProgramsService.addProgram({\r\n        programName,\r\n        program,\r\n      });\r\n      setPrograms((programs) => [...programs, updatedProgram]);\r\n      setProgram([]);\r\n    }\r\n  }, [program]);\r\n\r\n  useEffect(async () => {\r\n    setPrograms(await ProgramsService.getPrograms());\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-panel-container\">\r\n      <h1>AdminPanel</h1>\r\n      <div className=\"admin-panel\">\r\n        <ControllersList\r\n          setProgram={setProgram}\r\n          program={program}\r\n          isSubmitingProgram={isSubmitingProgram}\r\n          ActiveProgram={ActiveProgram}\r\n        />\r\n        <Programs\r\n          handleSubmit={handleSubmit}\r\n          programName={programName}\r\n          setProgramName={setProgramName}\r\n          programs={programs}\r\n          handleSettingProgram={handleSettingProgram}\r\n          handleDeleteProgram={handleDeleteProgram}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","function uploadSong(ev) {\r\n  const CLOUD_NAME = \"tamir\";\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/video/upload`;\r\n  const formData = new FormData();\r\n  if (ev.target) {\r\n    formData.append(\"file\", ev.target.files[0]);\r\n  } else {\r\n    formData.append(\"file\", ev);\r\n  }\r\n  formData.append(\"upload_preset\", \"u1inrfbp\"); // second parameter is the upload preset\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: \"POST\",\r\n    body: formData,\r\n    secure: true,\r\n  })\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.error(err));\r\n}\r\n\r\nexport default {\r\n  uploadSong,\r\n};\r\n","import { HttpService } from \"./HttpService\";\r\nimport UtilService from \"./UtilService\";\r\n\r\nfunction query(critirea) {\r\n  const params = new URLSearchParams(critirea);\r\n  return HttpService.get(`room?${params}`);\r\n}\r\nfunction getRoom(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\nasync function addNewSong(songObj, idx) {\r\n  songObj._id = UtilService.makeId();\r\n  return HttpService.put(`room/add-song/${idx}`, { songObj, idx });\r\n}\r\n\r\nfunction getById(filterBy) {\r\n  const queryParams = new URLSearchParams();\r\n  if (filterBy) {\r\n    for (const property in filterBy) {\r\n      if (filterBy[property]) {\r\n        queryParams.set(property, filterBy[property]);\r\n      }\r\n    }\r\n    return HttpService.get(`room?${queryParams}`);\r\n  }\r\n}\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`room/${id}`);\r\n}\r\n\r\nasync function save(room) {\r\n  let prm;\r\n\r\n  if (room._id) prm = HttpService.put(`room/${room._id}`, room);\r\n  else {\r\n    prm = HttpService.post(\"room\", room);\r\n  }\r\n  const res = await prm;\r\n  return res;\r\n}\r\n\r\nexport const RoomService = {\r\n  query,\r\n  getById,\r\n  save,\r\n  remove,\r\n  addNewSong,\r\n  getRoom,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nexport default ({\r\n  song,\r\n  idx,\r\n  isDeleting,\r\n  handleDeletingSongs,\r\n  idToDelete,\r\n  setSongIdToDelete,\r\n}) => {\r\n  const handleIdToDelete = () => {\r\n    var isIdAdded = idToDelete.includes(song._id);\r\n    isIdAdded\r\n      ? setSongIdToDelete(idToDelete.filter((id) => id !== song._id))\r\n      : setSongIdToDelete([...idToDelete, song._id]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"song-preview\">\r\n      {isDeleting && (\r\n        <input type=\"checkbox\" onChange={() => handleIdToDelete()} />\r\n      )}\r\n      <h2>\r\n        {idx + 1} - {song.name}\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      width=\"200px\"\r\n      height=\"200px\"\r\n      viewBox=\"0 0 100 100\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n    >\r\n      <rect x=\"17.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#1d3f72\">\r\n        <animate\r\n          attributeName=\"y\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"18;30;30\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.2s\"\r\n        ></animate>\r\n        <animate\r\n          attributeName=\"height\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"64;40;40\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.2s\"\r\n        ></animate>\r\n      </rect>\r\n      <rect x=\"42.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#5699d2\">\r\n        <animate\r\n          attributeName=\"y\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"20.999999999999996;30;30\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.1s\"\r\n        ></animate>\r\n        <animate\r\n          attributeName=\"height\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"58.00000000000001;40;40\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n          begin=\"-0.1s\"\r\n        ></animate>\r\n      </rect>\r\n      <rect x=\"67.5\" y=\"30\" width=\"15\" height=\"40\" fill=\"#d8ebf9\">\r\n        <animate\r\n          attributeName=\"y\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"20.999999999999996;30;30\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n        ></animate>\r\n        <animate\r\n          attributeName=\"height\"\r\n          repeatCount=\"indefinite\"\r\n          dur=\"1s\"\r\n          calcMode=\"spline\"\r\n          keyTimes=\"0;0.5;1\"\r\n          values=\"58.00000000000001;40;40\"\r\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1\"\r\n        ></animate>\r\n      </rect>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Capa_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 476.912 476.912\"\r\n      xmlSpace=\"preserve\"\r\n      className=\"home-icon\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M461.776,209.408L249.568,4.52c-6.182-6.026-16.042-6.026-22.224,0L15.144,209.4c-3.124,3.015-4.888,7.17-4.888,11.512\r\n\t\t\tc0,8.837,7.164,16,16,16h28.2v224c0,8.837,7.163,16,16,16h112c8.837,0,16-7.163,16-16v-128h80v128c0,8.837,7.163,16,16,16h112\r\n\t\t\tc8.837,0,16-7.163,16-16v-224h28.2c4.338,0,8.489-1.761,11.504-4.88C468.301,225.678,468.129,215.549,461.776,209.408z\r\n\t\t\t M422.456,220.912c-8.837,0-16,7.163-16,16v224h-112v-128c0-8.837-7.163-16-16-16h-80c-8.837,0-16,7.163-16,16v128h-112v-224\r\n\t\t\tc0-8.837-7.163-16-16-16h-28.2l212.2-204.88l212.28,204.88H422.456z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  return (\r\n    <svg\r\n      height=\"512\"\r\n      viewBox=\"0 0 24 24\"\r\n      width=\"512\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className=\"add-song-icon\"\r\n    >\r\n      <g>\r\n        <path d=\"m2.5 12c0-5.24671 4.25329-9.5 9.5-9.5 5.2467 0 9.5 4.25329 9.5 9.5 0 1.1707-.2115 2.2908-.598 3.325-.0966.2587.0347.5467.2934.6434.2586.0966.5467-.0347.6434-.2934.4276-1.1445.6612-2.383.6612-3.675 0-5.79899-4.701-10.5-10.5-10.5-5.79899 0-10.5 4.70101-10.5 10.5 0 5.799 4.70101 10.5 10.5 10.5.5348 0 1.0605-.04 1.5744-.1173.273-.0411.4611-.2958.42-.5688-.041-.2731-.2957-.4612-.5688-.4201-.4647.0699-.9408.1062-1.4256.1062-5.24671 0-9.5-4.2533-9.5-9.5z\" />\r\n        <path d=\"m16 18.5c-.2761 0-.5.2239-.5.5s.2239.5.5.5h1.5v1.5c0 .2761.2239.5.5.5s.5-.2239.5-.5v-1.5h1.5c.2761 0 .5-.2239.5-.5s-.2239-.5-.5-.5h-1.5v-1.5c0-.2761-.2239-.5-.5-.5s-.5.2239-.5.5v1.5z\" />\r\n        <path\r\n          clipRule=\"evenodd\"\r\n          d=\"m10.2572 8.57125c-.1544-.09268-.34679-.0951-.50355-.00635-.15675.08875-.25365.25496-.25365.4351v6c0 .1801.0969.3463.25365.4351.15676.0888.34915.0863.50355-.0064l5-3c.1507-.0903.2428-.2531.2428-.4287s-.0921-.3384-.2428-.4287zm3.771 3.42875-3.5282 2.1169v-4.23381z\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default ({ isDeleting }) => {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={isDeleting ? \"remove-song-icon deleting\" : \"remove-song-icon\"}\r\n    >\r\n      <g>\r\n        <path d=\"m12 2.5c-5.24671 0-9.5 4.25329-9.5 9.5 0 5.2467 4.25329 9.5 9.5 9.5.4848 0 .9609-.0363 1.4256-.1062.2731-.0411.5278.147.5688.4201.0411.273-.147.5277-.42.5688-.5139.0773-1.0396.1173-1.5744.1173-5.79899 0-10.5-4.701-10.5-10.5 0-5.79899 4.70101-10.5 10.5-10.5 5.799 0 10.5 4.70101 10.5 10.5 0 1.292-.2336 2.5305-.6612 3.675-.0967.2587-.3848.39-.6434.2934-.2587-.0967-.39-.3847-.2934-.6434.3865-1.0342.598-2.1543.598-3.325 0-5.24671-4.2533-9.5-9.5-9.5z\" />\r\n        <path d=\"m21.5 19.5c0 .2761-.2239.5-.5.5h-4c-.2761 0-.5-.2239-.5-.5s.2239-.5.5-.5h4c.2761 0 .5.2239.5.5z\" />\r\n        <path d=\"m10.2572 8.57125c-.1544-.09268-.34679-.0951-.50355-.00635-.15675.08875-.25365.25496-.25365.4351v6c0 .1801.0969.3463.25365.4351.15676.0888.34915.0863.50355-.0064l5-3c.1507-.0903.2428-.2531.2428-.4287s-.0921-.3384-.2428-.4287zm3.771 3.42875-3.5282 2.1169v-4.23381z\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport SocketService from \"../services/SocketService\";\r\nimport CloudinaryService from \"../services/CloudinaryService\";\r\nimport { RoomService } from \"../services/RoomService\";\r\n\r\nimport ReactPlayer from \"react-player\";\r\n\r\nimport SongPreview from \"../cmps/SongPreview\";\r\nimport Loader from \"../cmps/Loader\";\r\n\r\nimport HomeIcon from \"../icons/HomeIcon\";\r\nimport AddSongIcon from \"../icons/AddSongIcon\";\r\nimport RemoveSongIcon from \"../icons/RemoveSongIcon\";\r\n\r\nexport default (props) => {\r\n  const [roomIdx, setRoomIdx] = useState(null);\r\n  const [songIdx, setSongIdx] = useState(0);\r\n  const [idToDelete, setSongIdToDelete] = useState([]);\r\n  const [volume, setVolume] = useState(null);\r\n  const [room, setRoom] = useState(null);\r\n  const [songObg, setSongObj] = useState(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [playList, setPlaylist] = useState([]);\r\n  const [playStatus, setPlayStatus] = useState(true);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [playingTime, setPlayingTime] = useState([\r\n    { hours: 10, minutes: 0, seconds: 0, action: \"play\" },\r\n    { hours: 14, minutes: 0, seconds: 0, action: \"pause\" },\r\n    { hours: 16, minutes: 0, seconds: 0, action: \"play\" },\r\n    { hours: 20, minutes: 0, seconds: 0, action: \"pause\" },\r\n  ]);\r\n\r\n  const conectSockets = () => {\r\n    console.log(\"volume changed\");\r\n    SocketService.on(`change volume ${roomIdx}`, ({ newValue }) => {\r\n      setVolume(newValue / 100);\r\n    });\r\n    SocketService.on(`new play status ${roomIdx}`, ({ isLocalPlaying }) => {\r\n      setPlayStatus(isLocalPlaying);\r\n    });\r\n  };\r\n\r\n  const disconnectSockets = () => {\r\n    console.log(\"disconnect sockets\");\r\n    if (roomIdx) {\r\n      SocketService.off(`change volume ${roomIdx}`);\r\n      SocketService.off(`new play status ${roomIdx}`);\r\n    }\r\n    SocketService.terminate();\r\n  };\r\n\r\n  const onUploadSong = async (ev) => {\r\n    // this.setState({ isLoading: true });\r\n    setIsUploading(true);\r\n    let newSongUrl = await CloudinaryService.uploadSong(ev);\r\n    setSongObj({\r\n      name: newSongUrl.original_filename,\r\n      songUrl: newSongUrl.secure_url,\r\n    });\r\n    setIsUploading(false);\r\n  };\r\n\r\n  const playNextSong = () => {\r\n    console.log(\"song ended\");\r\n    let nextIdx = songIdx + 1;\r\n    nextIdx %= playList.length;\r\n    setSongIdx(nextIdx);\r\n  };\r\n\r\n  const updatePlaylist = (newSong) => {\r\n    let playlist = room.playlist.map((song) => {\r\n      return song.songUrl;\r\n    });\r\n    return newSong ? playlist.push(newSong) : playlist;\r\n  };\r\n\r\n  // const handlePlayStatus = () => {\r\n  //   setPlayStatus(true);\r\n  //   SocketService.emit(`update status from player`, {\r\n  //     roomIdx,\r\n  //     playStatus: true,\r\n  //   });\r\n  // };\r\n  // const handlePauseStatus = () => {\r\n  //   setPlayStatus(false);\r\n  //   SocketService.emit(`update status from player`, {\r\n  //     roomIdx,\r\n  //     playStatus: false,\r\n  //   });\r\n  // };\r\n\r\n  const generatePlayingTimes = (hours, minutes, seconds) => {\r\n    let activatingTime = new Date();\r\n    activatingTime.setHours(hours);\r\n    activatingTime.setMinutes(minutes);\r\n    activatingTime.setSeconds(seconds);\r\n    return activatingTime;\r\n  };\r\n\r\n  const toggleIsDeleting = () => {\r\n    setIsDeleting(!isDeleting);\r\n  };\r\n\r\n  const handleDeletingSongs = () => {\r\n    if (!idToDelete.length) return;\r\n    let roomCopy = JSON.parse(JSON.stringify(room));\r\n    idToDelete.forEach((id) => {\r\n      const idx = roomCopy.playlist.findIndex((song) => id === song._id);\r\n      roomCopy.playlist.splice(idx, 1);\r\n    });\r\n    setRoom(roomCopy);\r\n    setSongIdToDelete(\"\");\r\n    RoomService.save(roomCopy);\r\n  };\r\n\r\n  const handlePlayingTime = () => {\r\n    const runEveryDay = (act) => {\r\n      switch (act) {\r\n        case \"play\":\r\n          setPlayStatus(true);\r\n          console.log(\"playing\");\r\n          break;\r\n        case \"pause\":\r\n          setPlayStatus(false);\r\n          console.log(\"stopping\");\r\n          break;\r\n      }\r\n      setTimeout((_) => {\r\n        runEveryDay(act);\r\n      }, 24 * 60 * 60 * 1000);\r\n    };\r\n    playingTime.forEach((t) => {\r\n      let hour = generatePlayingTimes(t.hours, t.minutes, t.seconds);\r\n      var time = hour - new Date();\r\n      if (time < 0) time += 24 * 60 * 60 * 1000;\r\n      setTimeout((_) => {\r\n        runEveryDay(t.action);\r\n      }, time);\r\n    });\r\n  };\r\n\r\n  useEffect(async () => {\r\n    SocketService.setup();\r\n    setRoomIdx(props?.match?.params?.id);\r\n    await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    handlePlayingTime();\r\n    return () => {\r\n      disconnectSockets();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (songObg) {\r\n      let roomCopy = JSON.parse(JSON.stringify(room));\r\n      roomCopy.playlist.push(songObg);\r\n      setRoom(roomCopy);\r\n      RoomService.addNewSong(songObg, roomIdx);\r\n      setPlaylist(updatePlaylist(songObg.songUrl));\r\n    }\r\n  }, [songObg]);\r\n\r\n  useEffect(async () => {\r\n    if (roomIdx) {\r\n      setRoom(await RoomService.getRoom({ roomIdx }));\r\n    }\r\n  }, [roomIdx]);\r\n\r\n  useEffect(() => {\r\n    if (room) {\r\n      setPlaylist(updatePlaylist());\r\n      conectSockets();\r\n    }\r\n  }, [room]);\r\n\r\n  return !room ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className=\"music-player\">\r\n      <div className=\"music-player-header\">\r\n        <h2>{roomIdx}</h2>\r\n        <h2>Room Name</h2>\r\n        {playList.length && (\r\n          <div className=\"player-wrapper\">\r\n            <ReactPlayer\r\n              playing={playStatus}\r\n              controls\r\n              url={playList[songIdx]}\r\n              className=\"react-player\"\r\n              volume={volume}\r\n              onEnded={playNextSong}\r\n              height=\"10%\"\r\n              // onPlay={() => handlePlayStatus()}\r\n              // onPause={() => handlePauseStatus()}\r\n            />\r\n          </div>\r\n        )}\r\n        <Link to={`/`}>\r\n          <HomeIcon />\r\n        </Link>\r\n      </div>\r\n      {isUploading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"song-list\">\r\n          <span className=\"songs\">\r\n            {room &&\r\n              room.playlist.map((song, idx) => (\r\n                <SongPreview\r\n                  song={song}\r\n                  key={idx}\r\n                  idx={idx}\r\n                  isDeleting={isDeleting}\r\n                  handleDeletingSongs={handleDeletingSongs}\r\n                  idToDelete={idToDelete}\r\n                  setSongIdToDelete={setSongIdToDelete}\r\n                />\r\n              ))}\r\n          </span>\r\n\r\n          <span className=\"icons\">\r\n            <i>\r\n              <label>\r\n                <AddSongIcon />\r\n                <input type=\"file\" onChange={(ev) => onUploadSong(ev)} hidden />\r\n              </label>\r\n            </i>\r\n            <i\r\n              onClick={() => {\r\n                toggleIsDeleting();\r\n                handleDeletingSongs();\r\n              }}\r\n            >\r\n              <RemoveSongIcon isDeleting={isDeleting} />\r\n            </i>\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport AdminPanel from \"../pages/AdminPanel\";\r\nimport MusicPlayer from \"../pages/MusicPlayer\";\r\n\r\nclass RoutePage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"router-page\">\r\n        <main>\r\n          <Switch>\r\n            <Route path=\"/\" exact component={AdminPanel} />\r\n            <Route path=\"/player/:id\" exact component={MusicPlayer} />\r\n            {/* <Route\r\n              path=\"/room/:id\"\r\n              exact\r\n              render={(routerProps) => (\r\n                <RoomPage\r\n                  {...routerProps}\r\n                  showNotification={this.props.showNotification}\r\n                />\r\n              )}\r\n            /> */}\r\n            {/* <Route path=\"/room/:id\" component={RoomPage} showNotification={this.props.showNotification} /> */}\r\n          </Switch>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RoutePage;\r\n","import React from \"react\";\nimport { Router } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport \"./App.scss\";\nimport RoutePage from \"./cmps/RoutePage\";\n\nconst history = createBrowserHistory();\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router history={history}>\n        <RoutePage />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// function getRandomInt(min, max) {\r\n//     min = Math.ceil(min);\r\n//     max = Math.floor(max);\r\n//     return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\r\n// }\r\n\r\nfunction makeId(length = 12) {\r\n  var text = \"\";\r\n  var possible =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n  for (var i = 0; i < length; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n  return text;\r\n}\r\n\r\n// function makeLorem(length) {\r\n\r\n//     var randStr = '';\r\n//     while (randStr.length < length) {\r\n//         var wordLength = getRandomInt(3, 6);\r\n//         var word = _createWord(wordLength);\r\n\r\n//         if (Math.random() > 0.9) word += ',';\r\n\r\n//         randStr += word + ' ';\r\n//     }\r\n//     randStr = randStr.substring(0, length);\r\n//     randStr = randStr[0].toUpperCase() + randStr.substr(1)\r\n\r\n//     return randStr;\r\n// }\r\n\r\n// function _getRandChar() {\r\n//     var LETTERS = 'abcdefghijklmnopqrstuvwxyz';\r\n//     var randIndex = parseInt(Math.random() * LETTERS.length)\r\n//     return LETTERS.charAt(randIndex);\r\n// }\r\n\r\n// function _createWord(length) {\r\n//     var word = '';\r\n//     while (word.length < length) {\r\n//         var randChar = _getRandChar();\r\n//         word += randChar;\r\n//     }\r\n\r\n//     return word;\r\n// }\r\n\r\n// const urlParams = new URLSearchParams(window.location.search);\r\n// const myParam = urlParams.get('myParam');\r\n// function getParameterByName(name, url) {\r\n//     if (!url) url = window.location.href;\r\n//     name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n//     var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n//     results = regex.exec(url);\r\n//     if (!results) return null;\r\n//     if (!results[2]) return '';\r\n//     return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n// }\r\n\r\nmodule.exports = {\r\n  // getRandomInt,\r\n  // makeLorem,\r\n  makeId,\r\n  // getParameterByName\r\n};\r\n"],"sourceRoot":""}